# NOTE: Type forced to be:
# trs2 - TRS-80 Level II BASIC tokenized file
   10 CLEAR 200
   15 DEFINT X,Y
   20 CLS : GOSUB 875
   25 CLS : PRINT CHR$ (23) : PRINT "T H E   M A S T E R S" : PRINT 
   30 INPUT "=ENTER= THE NUMBER OF PLAYERS";PL
   35 IF PL > 4 GOTO 25
   40 PRINT : FOR I = 1 TO PL
   45 PRINT "NAME OF PLAYER # ";I; : INPUT P$(I)
   50 NEXT 
   55 FOR R = 1 TO 9 : CLS : GOSUB 725 : GOSUB 840 : P(R) = P
   60 FOR RR = 1 TO PL : S = 0
   65 GOSUB 770 : GOSUB 855
   70 M = 1 : N = RND (7) + 21 : SET (M,N) : SET (M + 1,N)
   75 GOSUB 475
   80 GOSUB 270
   85 PRINT @256,"            ";
   90 A(RR,R) = S
   95 FOR J = 1 TO 3
  100 PRINT @PT,P$(RR);"  IS  ON  THE  GREEN !";
  105 FOR I = 1 TO 300 : NEXT : PRINT @PT, CHR$ (30) : FOR I = 1 TO 200 : NEXT : NEXT 
  110 NEXT RR
  115 FOR RR = 1 TO PL : M = M(RR) : S = 0
  120 GOSUB 275 : A(RR,R) = A(RR,R) + S
  125 FOR I = 1 TO 999 : NEXT 
  130 NEXT RR
  135 GOSUB 150
  140 NEXT R
  145 GOTO 145
  150 CLS : FOR X = 0 TO 256 + PL * 128 STEP 128 : PRINT @X, STRING$ (63,140); : NEXT 
  155 FOR I = 0 TO R : FOR J = 0 TO PL + 1 : PRINT @I * 4 + J * 128 + 86, CHR$ (170);
  160 NEXT : NEXT 
  165 FOR X = 1 TO 9 : PRINT @X * 4 + 19 + 64,X; : NEXT 
  170 PRINT @80,"HOLE"; : PRINT @208,"PAR"; : PRINT @68,"T H E";
  175 PRINT @128,"M A S T E R S   "; : PRINT @187," TOT";
  180 FOR I = 1 TO PL : PRINT @I * 128 + 197,P$(I); : NEXT 
  185 FOR I = 1 TO R : PRINT @I * 4 + 211,P(I);
  190 FOR J = 1 TO PL : PRINT @128 * J + 211 + I * 4,A(J,I);
  195 NEXT : NEXT 
  200 X = 0 : FOR I = 1 TO R : X = P(I) + X : NEXT : PRINT @251,X;
  205 FOR I = 1 TO PL
  210 X = 0 : FOR J = 1 TO R : X = X + A(I,J) : NEXT : PRINT @I * 128 + 251,X; : NEXT 
  215 IF R < > 9 THEN 235
  220 PRINT @960,"ANOTHER ROUND";
  225 INPUT A$
  230 IF LEFT$ (A$,1) = "Y" OR LEFT$ (A$,1) = "y" THEN RUN 25 : ELSE 1005
  235 PRINT @960,""; : INPUT "PRESS =ENTER= TO CONTINUE ";A$
  240 RETURN 
  245 GOSUB 270
  250 PRINT @PT,"* OUT OF BOUNDS PENALTY *  STROKE AND DISTANCE!";
  255 M = M1 : N = N1 : FOR J = 1 TO 1000 : NEXT J : S = S + 1
  260 SET (M,N) : SET (M + 1,N) : GOSUB 270
  265 PRINT @960, STRING$ (61,192); : RETURN 
  270 FOR I = PT TO PT + 128 STEP 64 : PRINT @I, CHR$ (30); : NEXT : RETURN 
  275 CLS : ST = ( - 1) ^ ( RND (2)) : T = RND (90) + 20 : Y = 33 : IF ABS (T - 90) < 7 GOTO 275
  280 IF (M < 10) * ( RND (10) < 3) THEN M = 0
  285 PRINT @960,P$(RR);"'S  PUTT.";
  290 PRINT " ENTER TWO DIGITS OR ONE DIGIT & <ENTER>";
  295 FOR X = 0 TO 125 STEP 3 : SET (X,Y) : SET (X + 1,Y) : SET (X + 2,Y)
  300 SET (X,Y + 1) : SET (X + 1,Y + 1) : SET (X + 2,Y + 1)
  305 IF ABS (90 - X) < 10 GOTO 320
  310 IF ( RND (5) = 1) * (X > T) THEN Y = Y + ST : IF Y > 44 THEN Y = Y - ST
  315 IF ( RND (5) = 1) * (X < T) THEN Y = Y - ST
  320 IF X = 90 THEN H = Y
  325 NEXT : RESET (89,H + 1) : RESET (90,H + 1) : RESET (91,H + 1)
  330 SET (89,H + 2) : SET (90,H + 2) : SET (91,H + 2)
  335 PRINT @110,"*******"; : PRINT @238,"*******"; : PRINT @179," ***";
  340 PRINT @176,R;
  345 X = 90 - M : FOR Y = 9 TO 45 : IF POINT (X,Y) THEN Y = Y - 2 : GOTO 355
  350 NEXT 
  355 FOR N = 2 TO H - 4 : SET (90,N) : NEXT : GOTO 455
  360 SET (X,Y) : SET (X + 1,Y)
  365 PRINT @64,"                                 ";
  370 PRINT @0,"ENTER LENGTH OF PUTT ( IN FEET )";
  375 PRINT @64,"?";
  380 S = S + 1
  385 A$ = INKEY$ : IF A$ = ""THEN 385 : ELSE A = VAL (A$)
  390 B$ = INKEY$ : IF B$ = ""THEN 390
  395 IF B$ = CHR$ (13) THEN A = 0 : B$ = A$
  400 B = VAL (B$)
  405 PX = A * 10 + B
  410 PRINT @64,"PUTT ATTEMPT IS ";PX;" FEET.  ";
  415 A = - 1 : Q = 1 : IF X > 90 THEN Q = - 1
  420 A = A + 1 : IF A > = PX THEN 455
  425 RESET (X,Y) : RESET (X + 1,Y) : X = X + Q
  430 IF X > 121 THEN X = 117 + RND (3) : GOTO 450
  435 IF X < 1 THEN X = 2 + RND (2) : GOTO 450
  440 IF POINT (X,Y + 1) THEN Y = Y - 1 : A = A + RND (2) + 2 : GOTO 450
  445 IF POINT (X,Y + 2) = 0 THEN Y = Y + 1 : A = A - RND (2) - 2
  450 SET (X,Y) : SET (X + 1,Y) : GOTO 420
  455 IF (X < > 89) * (X < > 90) GOTO 360
  460 RESET (89,Y) : RESET (90,Y) : RESET (91,Y) : RESET (X,Y) : RESET (X + 1,Y)
  465 SET (X,Y + 3) : SET (X + 1,Y + 3)
  470 RETURN 
  475 IF SG > 0 THEN PT = 0 : ELSE PT = 768
  480 IF SG > 0 THEN PP = 832 : ELSE PP = 0
  485 PRINT @PP,"HOLE # ";R;
  490 PRINT @PP + 64,"PAR ";P; : PRINT @PP + 128,"YARDS ";Y;
  495 PRINT @PT,P$(RR);"'S ";
  500 PRINT "CLUB CHOICE  :   W=WOOD  I=IRON  S=SAND WEDGE";
  505 S = S + 1
  510 C$ = INKEY$ : IF C$ = ""THEN 510
  515 PRINT @PT, CHR$ (30)
  520 IF C$ < > "W" THEN 540 : ELSE PRINT @PT,"ENTER WOOD # (1-4) ?";
  525 D$ = INKEY$ : IF D$ = ""THEN 525 : ELSE PRINT D$;
  530 W = VAL (D$)
  535 IF W > 4 THEN 515 : ELSE Y1 = 180 + 10 * (5 - W) + RND ((6 - W) * 10) : GOTO 565
  540 IF C$ < > "I" THEN 560 : ELSE PRINT @PT,"ENTER IRON # (1-9) ?";
  545 D$ = INKEY$ : IF D$ = ""THEN 545 : ELSE PRINT D$;
  550 W = VAL (D$)
  555 IF W > 9 THEN 515 : ELSE Y1 = 80 + 10 * (10 - W) + RND (18 + 2 * (10 - W)) : GOTO 565
  560 IF C$ < > "S" THEN 500 : ELSE Y1 = 30 + RND (20)
  565 PRINT @PT, CHR$ (30)
  570 IF M = 1 THEN J = 5 : GOTO 600
  575 PRINT @PT + 4,"1 2 3 4"; : PRINT @PT + 132,"9 8 7 6";
  580 PRINT @PT + 64,"DIR   "; CHR$ (140);"   5";
  585 PRINT @PT + 15,"ENTER DIRECTION  ?";
  590 B$ = INKEY$ : IF B$ = ""THEN 590 : ELSE PRINT B$;
  595 J = VAL (B$)
  600 SS = RND (3) - 2 : RESET (M,N) : RESET (M + 1,N)
  605 GOSUB 675 : T = INT (Y1 / W)
  610 M1 = M : N1 = N
  615 FOR I = 1 TO T : RESET (M,N) : RESET (M + 1,N) : GOSUB 675
  620 IF (N < 1) + (N > 46) + (M < 1) + (M > 126) GOSUB 245 : GOTO 495
  625 IF RND (9) = 1 THEN N = N + SS : IF J < > 5 THEN N = N - SS
  630 SET (M,N) : SET (M + 1,N) : NEXT 
  635 G1 = G - 64 : G2 = ( INT ((N + 3) / 3) - 1) * 64 + INT (M / 2)
  640 FOR J = G1 TO G1 + 128 STEP 64 : FOR I = J TO J + 7 : IF I < > G2 GOTO 660
  645 M2 = (G + 4 - INT ((G + 3) / 64) * 64) * 2 : N2 = INT ((G + 3) / 64) * 3 + 1
  650 M = ABS (M - M2) * 10 + ABS (N - N2) * 10 - RND (9) : IF M > 89 THEN M = 80 + RND (9)
  655 M(RR) = M : RETURN 
  660 NEXT : NEXT 
  665 I = PT : FOR K = 1 TO 3 : PRINT @I, CHR$ (30); : I = I + 64 : NEXT 
  670 GOTO 495
  675 ON J GOTO 680,685,690,695,700,705,710,715,720
  680 M = M - 2 : N = N - 1 : W = 18 : RETURN 
  685 N = N - 1 : W = 10 : RETURN 
  690 M = M + 2 : N = N - 1 : W = 18 : RETURN 
  695 M = M + 4 : N = N - 1 : W = 20 : RETURN 
  700 M = M + 2 : W = 10 : RETURN 
  705 M = M + 4 : N = N + 1 : W = 20 : RETURN 
  710 M = M + 2 : N = N + 1 : W = 18 : RETURN 
  715 N = N + 1 : W = 10 : RETURN 
  720 M = M - 2 : N = N + 1 : W = 18 : RETURN 
  725 PRINT @384,"TEE"; : PRINT @640,"TEE";
  730 SG = ( - 1) ^ ( RND (2)) : Y = RND (18)
  735 IF Y > 15 THEN X2 = SG * (4 + RND (2)) : Y = RND (68) + 500 : P = 5 : GOTO 760
  740 IF (Y > 3) * (Y < 16) THEN Y = RND (180) + 300 : P = 4 : GOTO 750
  745 Y = RND (70) + 150 : P = 3
  750 X2 = RND (9) - 5 : IF Y < 300 THEN X2 = 0
  755 IF Y > 420 THEN X2 = SG * (3 + RND (2))
  760 Y1 = Y - ABS (X2) * 18 : X1 = INT (Y1 / 8) - 8 : IF X1 > 60 THEN X1 = 60
  765 X1 = INT ((X1 - ABS (X2) * 4) / 4) - 1
  770 C = 0
  775 FOR I = 520 TO 572 STEP 4 : C = C + 1
  780 IF C > X1 + 1 GOTO 795
  785 PRINT @I + 128,"F"; : PRINT @I - 128,"F";
  790 GOTO 830
  795 PC = I + SG * (C - X1) * 64
  800 IF SG > 0 AND PC > 256 PRINT @PC - 256,"F";
  805 IF SG > 0 AND PC + 128 < 1020 PRINT @PC + 128,"F";
  810 IF SG > 0 GOTO 825
  815 IF PC + 256 < 1020 PRINT @PC + 256,"F";
  820 IF PC > 128 PRINT @PC - 128,"F";
  825 IF C > X1 + ABS (X2) GOTO 835
  830 NEXT I
  835 RETURN 
  840 G = PC + 64 * ( RND (3) - 2)
  845 IF G < 64 THEN G = G + 64 : GOTO 845
  850 IF G + 64 > 1020 THEN G = G - 64 : GOTO 850
  855 PRINT @G,"G   +   G";
  860 PRINT @G - 61,"G  G";
  865 PRINT @G + 67,"G  G";
  870 RETURN 
  875 PRINT TAB 10),"T H E   M A S T E R S" : PRINT 
  880 PRINT "     TO PLAY, SIMPLY ENTER THE CLUB TYPE (WOOD OR IRON OR SAND"
  885 PRINT "WEDGE) AND THE CLUB NUMBER.  ON ALL FAIRWAY SHOTS, YOU ALSO"
  890 PRINT "HAVE THE OPTION OF DIRECTION (1-9) AS WILL BE INDICATED BY"
  895 PRINT "A CHART LIKE THE ONE BELOW.
  900 PRINT @448,"1 2 3 4" : PRINT @514, CHR$ (140);"   5"
  905 PRINT @576,"9 8 7 6"
  910 PRINT @468,"SO IF YOU WISH TO HIT UP AND TO THE RIGHT,";
  915 PRINT @532,"YOU SHOULD ENTER A 3 OR A 4 FOR DIRECTION.";
  920 PRINT @704,"     FROM ONE TO FOUR MAY PLAY EACH ROUND.  FIRST, EACH"
  925 PRINT "PLAYER WILL SHOOT UNTIL HE REACHES THE GREEN.  WHEN ALL PLAYERS"
  930 PRINT "HAVE REACHED THE GREEN, THE PUTTING SURFACE WILL BE DISPLAYED."
  935 PRINT : INPUT "PRESS =ENTER= TO CONTINUE ";A$ : CLS 
  940 PRINT TAB 10),"T H E   M A S T E R S" : PRINT 
  945 PRINT "     EACH PLAYER WILL TAKE HIS TURN PUTTING UNTIL HE HAS MADE"
  950 PRINT "THE PUTT.  SINCE TWO PLAYERS SELDOM PUTT FROM THE SAME SPOT,"
  955 PRINT "EACH PLAYER WILL HAVE A DIFFERENT PUTTING SURFACE TO CONTEND"
  960 PRINT "WITH.  AFTER ALL PLAYERS HAVE HOLED OUT, A CURRENT SCORE CARD"
  965 PRINT "WILL BE DISPLAYED -- THEN IT IS ON TO THE NEXT HOLE."
  970 PRINT : PRINT "     SINCE THERE ARE ADVANTAGES TO HITTING THIRD OR FOURTH"
  975 PRINT "WHEN MORE THAN ONE GOLFERS ARE PARTICIPATING, THE MORE EXPER-"
  980 PRINT "IENCED SHOOTERS SHOULD ENTER THEIR NAMES AS PLAYER #1, "
  985 PRINT "PLAYER #2, AND SO ON.  THIS WAY, THE BETTER PLAYERS WILL HAVE"
  990 PRINT "TO HIT FIRST, AND THE OTHERS CAN LEARN FROM THEIR SHOTS."
  995 PRINT 
 1000 INPUT "PRESS  =ENTER= TO BEGIN ";A$ : RETURN 
 1005 CLS : PRINT : PRINT "THANKS FOR PLAYING"
 1010 PRINT : PRINT "TO PLAY AGAIN, TYPE 'RUN'."
 1015 END 

    1 REM NOTE: Basic language type forced to be:
    2 REM       trs2 - TRS-80 Level II BASIC tokenized file
   10 CLS:PRINT@282,"FLIP  DISC"
   11 PRINT@409,"COPYRIGHT BY"
   12 PRINT@470,"CREATIVE COMPUTING"
   13 PRINT@536,"P.O. BOX 789-M"
   14 PRINT@593,"MORRISTOWN, NEW JERSEY 07960"
   15 FORI=1TO2000:NEXTI
  140 CLEAR:CLEAR300
  150 DIMA(10,10),I4(9),J4(9),C$(8),D$(3),D(10,10)
  170 CLS
  190 PRINT@896,"Do you want instructions? (Y or N) ";
  200 X$=INKEY$:X$=X$:IFX$=""THEN200ELSEPRINTX$
  210 IFX$="N"THEN390
  220 IFX$<>"Y"THEN190
  230 CLS:PRINTCHR$(28);
  240 PRINT"FLIP DISC IS PLAYED ON A 64-SQUARE GAME BOARD WITH PIECES THAT"
  245 PRINT"HAVE 'X'S ON ONE SIDE AND 'O'S ON THE OTHER.":PRINT
  250 PRINT"THE OBJECT OF THE GAME IS TO END UP WITH MORE PIECES IN YOUR"
  255 PRINT"COLOR THAN I HAVE IN MY COLOR.":PRINT:PRINT "THE RULES ARE:":PRINT
  260 PRINT"1) FIRST, I WILL PLACE TWO 'X' PIECES AND TWO 'O' PIECES ON THE"
  265 PRINT"   BOARD.":PRINT:PRINT "2) A MOVE CONSISTS OF 'OUTFLANKING' YOUR OPPONENT'S PIECE(S),"
  270 PRINT"   THEN 'FLIPPING' THEM OVER TO YOUR COLOR.":PRINT@970,"";:GOSUB3800:CLS
  275 PRINT:PRINT"TO OUTFLANK MEANS TO PLACE A PIECE SO THAT YOUR OPPONENT'S"
  280 PRINT"ROW(S) OF PIECES IS BORDERED AT EACH END BY ONE OF YOUR PIECES"
  290 PRINT:PRINT:PRINT"EXAMPLE:":PRINT@474,"X  O  O  o"
  295 PRINT@768,"";:GOSUB3800:PRINT@486,"X":PRINT@599,"'X' OUTFLANKS 'O'S":PRINT@768,"";:GOSUB3800
  300 PRINT@477,"X  X  X";:PRINT@596,"'O'S ARE FLIPPED TO 'X'S":PRINT@768,"";:GOSUB3800:CLS
  305 PRINT:PRINT"3) IF A PLAYER CAN'T OUTFLANK AT LEAST ONE PIECE, THE TURN IS":PRINT"   FORFEITED.  TO FORFEIT YOUR TURN, ENTER A '0' WHEN I ASK FOR"
  310 PRINT"   YOUR NUMBER.":PRINT:PRINT"4) A PIECE MAY OUTFLANK IN ANY NUMBER OF DIRECTIONS AT THE SAME"
  315 PRINT"   TIME (HORIZONTALLY, VERTICALLY, DIAGONALLY).":PRINT
  320 PRINT"5) I WILL TELL YOU IF A MOVE ISN'T VALID."
  390 PRINT@960,"SHOULD I WAIT BEFORE DISPLAYING MY MOVES? (Y OR N) ";
  400 X$=INKEY$:X$=X$:IFX$=""THEN400ELSEPRINTX$;
  410 F2=0
  420 IFX$="N"THENCLS:GOTO480
  430 IFX$<>"Y"THEN390
  440 F2=1
  450 CLS
  460 PRINT"OK.  PRESSING 'ENTER' WILL LET ME GO ON."
  470 PRINT
  480 PRINT"WHICH STRATEGY SHOULD I USE..."
  482 PRINT:PRINT,"PRETTY GOOD",": (1)"
  484 PRINT,"EVEN BETTER",": (2)"
  486 PRINT,"MY VERY BEST",": (3)"
  487 X$=INKEY$:X$=X$:IFX$=""THEN487
  488 S2=VAL(X$):IFS2<1ORS2>3THEN487
  490 S2=S2-1:PRINT:PRINT"  sTRATEGY #";X$;" -   OK....I'M SETTING UP THE BOARD"
  530 PRINT
  540 B=-1
  550 W=+1
  560 D$(B+2)="X"
  570 D$(0+2)="."
  580 D$(W+2)="O"
  590 FORK=1TO8
  600 READI4(K)
  610 NEXTK
  620 DATA0,-1,-1,-1,0,1,1,1
  630 FORK=1TO8
  640 READJ4(K)
  650 NEXTK
  660 DATA1,1,0,-1,-1,-1,0,1
  670 FORK=1TO8
  680 READC$(K)
  690 NEXTK
  700 DATA"A","B","C","D","E","F","G","H"
  720 FORI=1TO10
  730 FORJ=1TO10
  740 A(I,J)=0
  750 NEXTJ
  760 NEXTI
  770 A(5,5)=W
  780 A(6,6)=W
  790 A(5,6)=B
  800 A(6,5)=B
  810 C1=2
  820 H1=2
  830 N1=4
  835 GOSUB3450
  840 Z=0
  845 D3=4
  860 PRINT
  870 C=W
  880 H=B
  890 PRINT"DO YOU WANT TO HAVE X OR O? ";
  895 X$=INKEY$:X$=X$:IFX$=""THEN895ELSEPRINTX$
  900 IFX$="X"THENX1$="X":X2$="O":GOTO950
  910 IFX$<>"O"THENPRINTCHR$(27);:GOTO890
  920 X1$="O":X2$="X"
  930 C=B
  940 H=W
  950 PRINT:PRINT
  960 PRINT"DO YOU WANT TO GO FIRST? (Y OR N) ";
  965 X$=INKEY$:X$=X$:IFX$=""THEN965ELSEPRINTX$
  970 IFX$="N"THENGOSUB3190:GOTO1060
  980 IFX$<>"Y"THENPRINTCHR$(27);:GOTO960
 1000 GOSUB3190
 1010 GOTO1760
 1060 PRINT@416,CHR$(30);:PRINT@425,"I'M THINKING!";
 1070 PRINT@475,CHR$(30);:PRINT@416,"";
 1080 B1=-1
 1090 I3=0:J3=0
 1100 T1=C
 1110 T2=H
 1130 FORI=D3TO11-D3
 1140 FORJ=D3TO11-D3
 1150 IFA(I,J)<>0THEN1440
 1180 GOSUB2710
 1190 IFF1=0THEN1440
 1230 U=-1
 1240 GOSUB2910
 1260 IFS1=0THEN1440
 1270 IFS2=2THENS1=S1+D(I,J):GOTO1320
 1280 IFD(I,J)>6THENS1=S1+2*S2
 1320 IFS1<B1THEN1440
 1330 IFS1>B1THENB2=1:GOTO1400
 1370 R=RND(0)
 1380 IFR>1/B2THEN1440
 1400 B1=S1
 1405 D1=D(I,J)
 1410 I3=I
 1420 J3=J
 1440 NEXTJ
 1450 NEXTI
 1470 IFB1>0THEN1540
 1490 PRINT"I HAVE TO FORFEIT MY MOVE.";
 1500 IFZ=1THEN2280
 1510 Z=1
 1520 GOTO1760
 1540 Z=0
 1550 PRINT"      I WILL MOVE TO ";
 1560 PRINTLLIST"#";I3-1;
 1570 PRINTC$(J3-1);
 1582 IFF2=0THEN1590
 1584 PRINT@480,"PRESS 'ENTER' FOR ME TO MOVE";
 1586 X$=INKEY$:X$=X$:IFX$=""THEN1586
 1590 PRINT@480,"";
 1600 I=I3
 1610 J=J3
 1620 U=1
 1630 GOSUB2910
 1640 C1=C1+S1+1
 1650 H1=H1-S1
 1660 N1=N1+1
 1670 PRINT"THAT GIVES ME";
 1680 PRINTS1;
 1690 PRINT"OF YOUR PIECES";
 1710 GOSUB3220
 1730 IFH1=0THEN2280
 1740 IFN1=64THEN2280
 1760 T1=H
 1770 T2=C
 1780 PRINT@896,CHR$(30)
 1790 PRINT@768,CHR$(30)
 1800 PRINT@768,"YOUR MOVE -- NUMBER: ";
 1802 X$=INKEY$:X$=X$:IFX$=""THEN1802
 1803 PRINTX$;:I=VAL(X$):IFI<0ORI>8THEN1790
 1805 IFI=0THEN1830
 1810 PRINT"     LETTER: ";
 1820 X$=INKEY$:X$=X$:IFX$=""THEN1820ELSEPRINTX$;
 1830 PRINT@896,CHR$(30):PRINT@896,"";
 1840 IFI<>0THEN1900
 1850 PRINT"ARE YOU FORFEITING YOUR TURN? (Y OR N) ";
 1855 X$=INKEY$:X$=X$:IFX$=""THEN1855ELSEPRINTX$
 1860 IFX$<>"Y"THEN1780
 1870 IFZ=1THEN2280
 1880 Z=1
 1890 GOTO1060
 1900 I=I+1
 1905 IFI=2ORI=9THEND2=1ELSED2=0
 1910 FORJN=1TO8
 1915 J=JN
 1920 IFC$(J)=X$THENJN=9:GOTO1960
 1930 NEXTJN
 1940 GOTO1790
 1960 J=J+1
 1965 IFJ=2ORJ=9THEND2=D2+1
 1970 IFA(I,J)=0THEN2010
 1980 PRINT"SORRY, THAT SPACE IS OCCUPIED - PLEASE TRY AGAIN"
 1990 GOTO1790
 2010 GOSUB2710
 2020 IFF1=1THEN2060
 2030 PRINT"SORRY, YOU ARE NOT NEXT TO ONE OF MY PIECES - TRY AGAIN"
 2040 GOTO1790
 2060 U=-1
 2070 GOSUB2910
 2080 IFS1>0THEN2120
 2090 PRINT"SORRY, YOU AREN'T SURROUNDING ANY OF MY PIECES - TRY AGAIN"
 2100 GOTO1790
 2120 Z=0
 2122 IFD3=2THEN2130
 2124 IFD(I,J)<5THEND3=2:GOTO2130
 2126 IFN1>10THEND3=3
 2130 PRINT"THAT GIVES YOU";
 2140 PRINTS1;
 2150 PRINT"OF MY PIECES"
 2160 U=1
 2170 GOSUB2910
 2180 H1=H1+S1+1
 2190 C1=C1-S1
 2200 N1=N1+1
 2220 GOSUB3220
 2225 IFD1=9ORD2=2THENGOSUB3630
 2240 IFC1=0THEN2280
 2250 IFN1=64THEN2280
 2260 GOTO1060
 2280 PRINT@640,"";
 2290 PRINT"YOU HAVE";
 2300 PRINTH1;
 2310 PRINT"PIECES AND I HAVE";
 2320 PRINTC1;
 2330 PRINT"PIECES; ";
 2340 IFH1=C1THEN2380
 2350 IFH1>C1THEN2400
 2360 PRINT"SORRY, I WON THAT ONE."
 2370 GOTO2410
 2380 PRINT"A TIE!!"
 2390 GOTO2600
 2400 PRINT"YOU WON!"
 2410 C1=C1-H1
 2420 PRINT@768,CHR$(30);
 2430 IFC1>0THEN2450
 2440 C1=-C1
 2450 C1=(64*C1)/N1
 2460 PRINT"THAT WAS A ";
 2470 IFC1<11THEN2590
 2480 IFC1<25THEN2570
 2490 IFC1<39THEN2550
 2500 IFC1<53THEN2530
 2510 PRINT"PERFECT GAME."
 2520 GOTO2600
 2530 PRINT"WALKAWAY."
 2540 GOTO2600
 2550 PRINT"FIGHT."
 2560 GOTO2600
 2570 PRINT"HOT GAME !"
 2580 GOTO2600
 2590 PRINT"SQUEAKER !!"
 2600 PRINT
 2610 PRINT"DO YOU WANT TO PLAY ANOTHER GAME? (Y OR N) ";
 2615 X$=INKEY$:X$=X$:IFX$=""THEN2615ELSEPRINTX$
 2620 IFX$="Y"THENRESTORE:GOTO140
 2630 IFX$<>"N"THEN2610
 2640 CLS:PRINT"THANKS FOR PLAYING!"
 2650 PRINT:PRINT"TO PLAY AGAIN, TYPE 'RUN'."
 2660 PRINT:PRINT"TO LOAD ANOTHER PROOGRAM, TYPE 'CLOAD'."
 2670 PRINT:PRINT:GOTO3340
 2710 FORI1=-1TO1
 2720 FORJ1=-1TO1
 2730 IFA(I+I1,J+J1)=T2THEN2800
 2740 NEXTJ1
 2750 NEXTI1
 2770 F1=0
 2780 RETURN
 2800 F1=1
 2810 RETURN
 2910 S1=0
 2920 FORK=1TO8
 2930 I5=I4(K)
 2940 J5=J4(K)
 2950 I6=I+I5
 2960 J6=J+J5
 2970 S3=0
 2980 IFA(I6,J6)<>T2THEN3160
 3000 S3=S3+1
 3010 I6=I6+I5
 3020 J6=J6+J5
 3030 IFA(I6,J6)=T1THEN3060
 3040 IFA(I6,J6)=0THEN3160
 3050 GOTO3000
 3060 S1=S1+S3
 3070 IFU<>1THEN3160
 3090 I6=I
 3100 J6=J
 3110 FORK1=0TOS3
 3120 A(I6,J6)=T1
 3130 I6=I6+I5
 3140 J6=J6+J5
 3150 NEXTK1
 3160 NEXTK
 3170 RETURN
 3190 CLS:PRINTCHR$(28);
 3200 PRINT"     A  B  C  D  E  F  G  H";TAB(42);"** SCORE **"
 3210 PRINTTAB(42);"==========="
 3220 PRINT@64,"";
 3230 FORI=2TO9
 3240 PRINTI-1;
 3250 FORJ=2TO9
 3260 PRINT"  ";
 3270 PRINTD$(A(I,J)+2);
 3280 NEXTJ
 3290 PRINT@I*64,"";
 3300 NEXTI
 3310 PRINT@163,"YOU (";X1$;"):";H1;TAB(47);"TRS-80 (";X2$;"):";C1;
 3320 PRINT@233,"MOVES LEFT:";64-N1;
 3330 RETURN
 3340 END
 3450 FORI=1TO10
 3460 FORJ=1TO10
 3470 READD(I,J)
 3480 NEXTJ
 3490 NEXTI
 3500 RETURN
 3510 DATA0,0,0,0,0,0,0,0,0,0
 3520 DATA0,9,0,7,7,7,7,0,9,0
 3530 DATA0,0,0,3,1,1,3,0,0,0
 3540 DATA0,7,3,7,5,5,7,3,7,0
 3550 DATA0,7,1,5,0,0,5,1,7,0
 3560 DATA0,7,1,5,0,0,5,1,7,0
 3570 DATA0,7,3,7,5,5,7,3,7,0
 3580 DATA0,0,0,3,1,1,3,0,0,0
 3590 DATA0,9,0,7,7,7,7,0,9,0
 3600 DATA0,0,0,0,0,0,0,0,0,0
 3630 IFA(2,2)=0THEN3670
 3640 D(2,3)=7
 3650 D(3,2)=7
 3660 D(3,3)=7
 3670 IFA(2,9)=0THEN3710
 3680 D(2,8)=7
 3690 D(3,8)=7
 3700 D(3,9)=7
 3710 IFA(9,9)=0THEN3750
 3720 D(8,8)=7
 3730 D(8,9)=7
 3740 D(9,8)=7
 3750 IFA(9,2)=0THEN3790
 3760 D(8,2)=7
 3770 D(8,3)=7
 3780 D(9,3)=7
 3790 RETURN
 3800 PRINT"PRESS ANY KEY TO CONTINUE:";
 3810 X$=INKEY$:X$=X$:IFX$=""THEN3810ELSERETURN

/*
 * Title: The annotated BASIC Listing
 *
 *  Listing of basic/stock.bas: 
 *
                   +--------+---- Routine IDs (Empty field=Inaccessible code, A=Main program).
                   |        | +-- Target status (G-GOSUB, T-GOTO, B-Both GOSUB and GOTO)
        Program    |        | |
        Address    v        v v Original BASIC statement
    -------------- ---------- - ------------------------------------------------------------------------------
    0x5950392a86d0 ---------A   00010  PRINT TAB(30);"STOCK MARKET"
    0x5950392a8670 ---------A   00020  PRINT TAB(15);"CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY"
    0x5950392992b0 ---------A   00030  PRINT: PRINT: PRINT
    0x5950392a9b80 ---------A   00100  REM STOCK MARKET SIMULATION     -STOCK-
    0x5950392aae10 ---------A   00101  REM REVISED 8/18/70 (D. PESSEL, L. BRAUN, C. LOSIK)  
    0x5950392aaa40 ---------A   00102  REM IMP VRBLS: A-MRKT TRND SLP; B5-BRKRGE FEE; C-TTL CSH ASSTS;    
    0x5950392a9090 ---------A   00103  REM C5-TTL CSH ASSTS (TEMP); C(I)-CHNG IN STK VAL; D-TTL ASSTS;
    0x5950392a9480 ---------A   00104  REM E1,E2-LRG CHNG MISC; I-STCK #; I1,I2-STCKS W LRG CHNG; 
    0x5950392aa690 ---------A   00105  REM N1,N2-LRG CHNG DAY CNTS; P5-TTL DAYS PRCHSS; P(I)-PRTFL CNTNTS;
    0x5950392a8be0 ---------A   00106  REM Q9-NEW CYCL?; S4-SGN OF A; S5-TTL DYS SLS; S(I)-VALUE/SHR; 
    0x5950392a8c70 ---------A   00107  REM T-TTL STCK ASSTS; T5-TTL VAL OF TRNSCTNS;
    0x5950392ab140 ---------A   00108  REM W3-LRG CHNG; X1-SMLL CHNG(<$1); Z4,Z5,Z6-NYSE AVE.; Z(I)-TRNSCT
    0x5950392b0c00 ---------A   00110  DIM S(5),P(5),Z(5),C(5) 
    0x5950392b0c90 ---------A   00112  REM SLOPE OF MARKET TREND:A  (SAME FOR ALL STOCKS) 
    0x5950392b0f20 ---------A   00113  LET X=1
    0x5950392b1810 ---------A   00114  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392b1ae0 ---------A   00115  LET T5=0
    0x5950392b1db0 ---------A   00116  LET X9=0
    0x5950392b2080 ---------A   00117  LET N1=0
    0x5950392b2350 ---------A   00118  LET N2=0
    0x5950392b2620 ---------A   00119  LET E1=0
    0x5950392b28f0 ---------A   00120  LET E2=0
    0x5950392b2960 ---------A   00121  REM INTRODUCTION 
    0x5950392b2b40 ---------A   00122  PRINT "DO YOU WANT THE INSTRUCTIONS (YES-TYPE 1, NO-TYPE 0)"; 
    0x5950392b2d60 ---------A   00123  INPUT Z9
    0x5950392b2de0 ---------A   00124  PRINT 
    0x5950392b2e60 ---------A   00125  PRINT 
    0x5950392b30f0 ---------A   00126  IF Z9<1 THEN 200
    0x5950392b32b0 ---------A   00130  PRINT "THIS PROGRAM PLAYS THE STOCK MARKET.  YOU WILL BE GIVEN" 
    0x5950392b3470 ---------A   00132  PRINT "$10,000 AND MAY BUY OR SELL STOCKS.  THE STOCK PRICES WILL"
    0x5950392b3630 ---------A   00134  PRINT "BE GENERATED RANDOMLY AND THEREFORE THIS MODEL DOES NOT" 
    0x5950392b37f0 ---------A   00135  PRINT "REPRESENT EXACTLY WHAT HAPPENS ON THE EXCHANGE.  A TABLE"
    0x5950392b39b0 ---------A   00136  PRINT "OF AVAILABLE STOCKS, THEIR PRICES, AND THE NUMBER OF SHARES"
    0x5950392b3d80 ---------A   00137  PRINT "IN YOUR PORTFOLIO WILL BE PRINTED.  FOLLOWING THIS, THE" 
    0x5950392b3f40 ---------A   00138  PRINT "INITIALS OF EACH STOCK WILL BE PRINTED WITH A QUESTION"
    0x5950392b4100 ---------A   00139  PRINT "MARK.  HERE YOU INDICATE A TRANSACTION.  TO BUY A STOCK" 
    0x5950392b42e0 ---------A   00140  PRINT "TYPE +NNN, TO SELL A STOCK TYPE -NNN, WHERE NNN IS THE"  
    0x5950392b44a0 ---------A   00141  PRINT "NUMBER OF SHARES.  A BROKERAGE FEE OF 1% WILL BE CHARGED"
    0x5950392b4660 ---------A   00142  PRINT "ON ALL TRANSACTIONS.  NOTE THAT IF A STOCK'S VALUE DROPS"
    0x5950392b4820 ---------A   00143  PRINT "TO ZERO IT MAY REBOUND TO A POSITIVE VALUE AGAIN.  YOU"
    0x5950392b49e0 ---------A   00144  PRINT "HAVE $10,000 TO INVEST.  USE INTEGERS FOR ALL YOUR INPUTS."
    0x5950392b4b70 ---------A   00145  PRINT "(NOTE:  TO GET A 'FEEL' FOR THE MARKET RUN FOR AT LEAST" 
    0x5950392b4cb0 ---------A   00146  PRINT "10 DAYS)"
    0x5950392b4e30 ---------A   00147  PRINT "-----GOOD LUCK!-----"
    0x5950392b4ed0 ---------A T 00200  REM GENERATION OF STOCK TABLE; INPUT REQUESTS  
    0x5950392b4f20 ---------A   00210  REM INITIAL STOCK VALUES 
    0x5950392b5210 ---------A   00220  LET S(1)=100
    0x5950392b54e0 ---------A   00230  LET S(2)=85 
    0x5950392b57b0 ---------A   00240  LET S(3)=150
    0x5950392b5a80 ---------A   00250  LET S(4)=140
    0x5950392b5d70 ---------A   00260  LET S(5)=110
    0x5950392b5e00 ---------A   00265  REM INITIAL T8 - # DAYS FOR FIRST TREND SLOPE (A)
    0x5950392b64d0 ---------A   00266  LET T8=INT(4.99*RND(X)+1) 
    0x5950392b6560 ---------A   00267  REM RANDOMIZE SIGN OF FIRST TREND SLOPE (A)
    0x5950392b68c0 ---------A   00268  IF RND(X)>.5 THEN 270 
    0x5950392b6b10 ---------A   00269  LET A=-A
    0x5950392b6b90 ---------A T 00270  REM RANDOMIZE INITIAL VALUES 
    0x5950392b6c30 ---------A   00280  GOSUB 830 
    0x5950392b6cb0 ---------A   00285  REM INITIAL PORTFOLIO CONTENTS 
    0x5950392b7060 ---------A   00290  FOR I=1 TO 5
    0x5950392b7360 ---------A   00300  LET P(I)=0
    0x5950392b7650 ---------A   00305  LET Z(I)=0
    0x5950392b7780 ---------A   00310  NEXT I
    0x5950392b7810 ---------A   00320  PRINT 
    0x5950392b78a0 ---------A   00330  PRINT 
    0x5950392b7d40 ---------A   00333  REM INITIALIZE CASH ASSETS:C 
    0x5950392b7f80 ---------A   00335  LET C=10000 
    0x5950392b8000 ---------A   00338  REM PRINT INITIAL PORTFOLIO
    0x5950392b84b0 ---------A   00340  PRINT "STOCK"," ","INITIALS","PRICE/SHARE"
    0x5950392b8900 ---------A   00350  PRINT "INT. BALLISTIC MISSILES","  IBM",S(1)
    0x5950392b8d40 ---------A   00352  PRINT "RED CROSS OF AMERICA","  RCA",S(2) 
    0x5950392b9190 ---------A   00354  PRINT "LICHTENSTEIN, BUMRAP & JOKE","  LBJ",S(3)
    0x5950392b95d0 ---------A   00356  PRINT "AMERICAN BANKRUPT CO.","  ABC",S(4)
    0x5950392b99f0 ---------A   00358  PRINT "CENSURED BOOKS STORE","  CBS",S(5) 
    0x5950392b9a90 ---------A T 00360  PRINT 
    0x5950392b9b30 ---------A   00361  REM NYSE AVERAGE:Z5; TEMP. VALUE:Z4; NET CHANGE:Z6 
    0x5950392b9f00 ---------A   00363  LET Z4=Z5 
    0x5950392ba110 ---------A   00364  LET Z5=0
    0x5950392ba3e0 ---------A   00365  LET T=0 
    0x5950392ba6b0 ---------A   00370  FOR I=1 TO 5
    0x5950392baaf0 ---------A   00375  LET Z5=Z5+S(I)
    0x5950392bb120 ---------A   00380  LET T=T+S(I)*P(I) 
    0x5950392bb250 ---------A   00390  NEXT I
    0x5950392bb9e0 ---------A   00391  LET Z5=INT(100*(Z5/5)+.5)/100 
    0x5950392bc210 ---------A   00392  LET Z6=INT((Z5-Z4)*100+.5)/100
    0x5950392bc280 ---------A   00393  REM TOTAL ASSETS:D 
    0x5950392bc6b0 ---------A   00394  LET D=T+C 
    0x5950392bc920 ---------A   00395  IF X9>0 THEN 398
    0x5950392bcb90 ---------A   00396  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5 
    0x5950392bcc40 ---------A   00397  GOTO 399 
    0x5950392bd0a0 ---------A T 00398  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5"NET CHANGE"Z6
    0x5950392bd130 ---------A T 00399  PRINT 
    0x5950392bd770 ---------A   00400  LET T=INT(100*T+.5)/100 
    0x5950392bd9e0 ---------A   00401  PRINT "TOTAL STOCK ASSETS ARE   $";T
    0x5950392be020 ---------A   00403  LET C=INT(100*C+.5)/100 
    0x5950392be290 ---------A   00405  PRINT "TOTAL CASH ASSETS ARE    $";C
    0x5950392be8d0 ---------A   00407  LET D=INT(100*D+.5)/100 
    0x5950392beb30 ---------A   00408  PRINT "TOTAL ASSETS ARE         $";D
    0x5950392bebb0 ---------A   00410  PRINT 
    0x5950392bee40 ---------A   00411  IF X9=0 THEN 416
    0x5950392befe0 ---------A   00412  PRINT "DO YOU WISH TO CONTINUE (YES-TYPE 1, NO-TYPE 0)";
    0x5950392bf200 ---------A   00413  INPUT Q9
    0x5950392bf470 ---------A   00414  IF Q9<1 THEN 998
    0x5950392bf4f0 ---------A T 00416  REM INPUT TRANSACTIONS 
    0x5950392bf690 ---------A T 00420  PRINT "WHAT IS YOUR TRANSACTION IN" 
    0x5950392bf810 ---------A   00430  PRINT "IBM";
    0x5950392bfa30 ---------A   00440  INPUT Z(1)
    0x5950392bfbb0 ---------A   00450  PRINT "RCA";
    0x5950392bfdd0 ---------A   00460  INPUT Z(2)
    0x5950392bff50 ---------A   00470  PRINT "LBJ";
    0x5950392c0170 ---------A   00480  INPUT Z(3)
    0x5950392c02f0 ---------A   00490  PRINT "ABC";
    0x5950392c0510 ---------A   00500  INPUT Z(4)
    0x5950392c0690 ---------A   00510  PRINT "CBS";
    0x5950392c08b0 ---------A   00520  INPUT Z(5)
    0x5950392c0940 ---------A   00525  PRINT 
    0x5950392c09d0 ---------A   00530  REM TOTAL DAY'S PURCHASES IN $:P5
    0x5950392c0cd0 ---------A   00540  LET P5=0
    0x5950392c0d50 ---------A   00550  REM TOTAL DAY'S SALES IN $:S5
    0x5950392c1040 ---------A   00560  LET S5=0
    0x5950392c1320 ---------A   00570  FOR I=1 TO 5
    0x5950392c1910 ---------A   00575  LET Z(I)=INT(Z(I)+.5) 
    0x5950392c1c50 ---------A   00580  IF Z(I)<=0 THEN 610 
    0x5950392c2290 ---------A   00590  LET P5=P5+Z(I)*S(I) 
    0x5950392c2310 ---------A   00600  GOTO 620 
    0x5950392c2950 ---------A T 00610  LET S5=S5-Z(I)*S(I) 
    0x5950392c2da0 ---------A   00612  IF -Z(I)<=P(I) THEN 620 
    0x5950392c2f10 ---------A   00614  PRINT "YOU HAVE OVERSOLD A STOCK; TRY AGAIN." 
    0x5950392c2f90 ---------A   00616  GOTO 420 
    0x5950392c38d0 ---------A T 00620  NEXT I
    0x5950392c3980 ---------A   00622  REM TOTAL VALUE OF TRANSACTIONS:T5 
    0x5950392c3d00 ---------A   00625  LET T5=P5+S5
    0x5950392c3d70 ---------A   00630  REM BROKERAGE FEE:B5 
    0x5950392c4590 ---------A   00640  LET B5=INT(.01*T5*100+.5)/100 
    0x5950392c4620 ---------A   00650  REM CASH ASSETS=OLD CASH ASSETS-TOTAL PURCHASES
    0x5950392c46d0 ---------A   00652  REM -BROKERAGE FEES+TOTAL SALES:C5 
    0x5950392c4d40 ---------A   00654  LET C5=C-P5-B5+S5 
    0x5950392c4fb0 ---------A   00656  IF C5>=0 THEN 674 
    0x5950392c5310 ---------A   00658  PRINT "YOU HAVE USED $";-C5;" MORE THAN YOU HAVE." 
    0x5950392c5390 ---------A   00660  GOTO 420
    0x5950392c55d0 ---------A T 00674  LET C=C5
    0x5950392c5650 ---------A   00675  REM CALCULATE NEW PORTFOLIO  
    0x5950392c5940 ---------A   00680  FOR I=1 TO 5
    0x5950392c5f40 ---------A   00690  LET P(I)=P(I)+Z(I)
    0x5950392c6070 ---------A   00700  NEXT I
    0x5950392c6120 ---------A   00710  REM CALCULATE NEW STOCK VALUES 
    0x5950392c61b0 ---------A   00720  GOSUB 830 
    0x5950392c6220 ---------A   00750  REM PRINT PORTFOLIO
    0x5950392c62f0 ---------A   00751  REM BELL RINGING-DIFFERENT ON MANY COMPUTERS 
    0x5950392c63b0 ---------A   00755  PRINT 
    0x5950392c6530 ---------A   00756  PRINT "**********     END OF DAY'S TRADING     **********"
    0x5950392c65b0 ---------A   00757  PRINT 
    0x5950392c6630 ---------A   00758  PRINT 
    0x5950392c68c0 ---------A   00759  IF X9<1 THEN 769
    0x5950392c6e40 ---------A T 00769  PRINT "STOCK","PRICE/SHARE","HOLDINGS", "VALUE", "NET PRICE CHANGE"
    0x5950392c78a0 ---------A   00770  PRINT "IBM", S(1), P(1), S(1)*P(1), C(1)
    0x5950392c8300 ---------A   00771  PRINT "RCA", S(2), P(2), S(2)*P(2), C(2)
    0x5950392c8d60 ---------A   00772  PRINT "LBJ", S(3), P(3), S(3)*P(3), C(3)
    0x5950392c97c0 ---------A   00773  PRINT "ABC", S(4), P(4), S(4)*P(4), C(4)
    0x5950392ca200 ---------A   00774  PRINT "CBS", S(5), P(5), S(5)*P(5), C(5)
    0x5950392ca420 ---------A   00775  LET X9=1
    0x5950392ca490 ---------A   00780  PRINT 
    0x5950392ca510 ---------A   00790  PRINT 
    0x5950392ca5a0 ---------A   00810  GOTO 360 
    0x5950392ca620 ---------B   00829  REM NEW STOCK VALUES - SUBROUTINE
    0x5950392ca700 ---------B G 00830  REM RANDOMLY PRODUCE NEW STOCK VALUES BASED ON PREVIOUS
    0x5950392ca790 ---------B   00831  REM DAY'S VALUES 
    0x5950392ca870 ---------B   00832  REM N1,N2 ARE RANDOM NUMBERS OF DAYS WHICH RESPECTIVELY
    0x5950392ca960 ---------B   00833  REM DETERMINE WHEN STOCK I1 WILL INCREASE 10 PTS. AND STOCK
    0x5950392caa10 ---------B   00834  REM I2 WILL DECREASE 10 PTS. 
    0x5950392cab00 ---------B   00840  REM IF N1 DAYS HAVE PASSED, PICK AN I1, SET E1, DETERMINE NEW N1 
    0x5950392cad80 ---------B   00841  IF N1>0 THEN 850
    0x5950392cb450 ---------B   00845  LET I1=INT(4.99*RND(X)+1) 
    0x5950392cba40 ---------B   00846  LET N1=INT(4.99*RND(X)+1) 
    0x5950392cbc80 ---------B   00847  LET E1=1
    0x5950392cbd20 ---------B T 00850  REM IF N2 DAYS HAVE PASSED, PICK AN I2, SET E2, DETERMINE NEW N2 
    0x5950392cbfa0 ---------B   00851  IF N2>0 THEN 860
    0x5950392cc670 ---------B   00855  LET I2=INT(4.99*RND(X)+1) 
    0x5950392ccc60 ---------B   00856  LET N2=INT(4.99*RND(X)+1) 
    0x5950392cce80 ---------B   00857  LET E2=1
    0x5950392ccf00 ---------B T 00860  REM DEDUCT ONE DAY FROM N1 AND N2
    0x5950392cd250 ---------B   00861  LET N1=N1-1 
    0x5950392cd590 ---------B   00862  LET N2=N2-1 
    0x5950392cd610 ---------B   00890  REM LOOP THROUGH ALL STOCKS
    0x5950392cd900 ---------B   00900  FOR I=1 TO 5
    0x5950392cdce0 ---------B   00910  LET X1=RND(X) 
    0x5950392cdf30 ---------B   00915  IF X1>.25 THEN 920
    0x5950392ce150 ---------B   00916  LET X1=.25
    0x5950392ce1c0 ---------B   00917  GOTO 935 
    0x5950392ce410 ---------B T 00920  IF X1>.5 THEN 925
    0x5950392ce630 ---------B   00921  LET X1=.5
    0x5950392ce6a0 ---------B   00922  GOTO 935 
    0x5950392ce8f0 ---------B T 00925  IF X1>.75 THEN 930
    0x5950392ceb10 ---------B   00926  LET X1=.75  
    0x5950392ceb80 ---------B   00927  GOTO 935 
    0x5950392cedb0 ---------B T 00930  LET X1=0.0
    0x5950392cee40 ---------B   00931  REM BIG CHANGE CONSTANT:W3  (SET TO ZERO INITIALLY)
    0x5950392cf130 ---------B T 00935  LET W3=0
    0x5950392cf390 ---------B   00936  IF E1<1 THEN 945
    0x5950392cf9f0 ---------B   00937  IF INT(I1+.5)<>INT(I+.5) THEN 945 
    0x5950392cfa90 ---------B   00938  REM ADD 10 PTS. TO THIS STOCK;  RESET E1 
    0x5950392cfcc0 ---------B   00939  LET W3=10 
    0x5950392cfed0 ---------B   00943  LET E1=0
    0x5950392d0130 ---------B T 00945  IF E2<1 THEN 955
    0x5950392d0790 ---------B   00947  IF INT(I2+.5)<>INT(I+.5) THEN 955 
    0x5950392d0830 ---------B   00948  REM SUBTRACT 10 PTS. FROM THIS STOCK;  RESET E2
    0x5950392d0b80 ---------B   00949  LET W3=W3-10
    0x5950392d0da0 ---------B   00953  LET E2=0
    0x5950392d0e20 ---------B   00954  REM C(I) IS CHANGE IN STOCK VALUE
    0x5950392d1c80 ---------B T 00955  LET C(I)=INT(A*S(I))+X1+INT(3-6*RND(X)+.5)+W3 
    0x5950392d2450 ---------B   00956  LET C(I)=INT(100*C(I)+.5)/100 
    0x5950392d2a40 ---------B   00957  LET S(I)=S(I)+C(I)
    0x5950392d2d70 ---------B   00960  IF S(I)>0 THEN 967
    0x5950392d3070 ---------B   00964  LET C(I)=0
    0x5950392d3360 ---------B   00965  LET S(I)=0
    0x5950392d33e0 ---------B   00966  GOTO 970 
    0x5950392d3bb0 ---------B T 00967  LET S(I)=INT(100*S(I)+.5)/100 
    0x5950392d3ce0 ---------B T 00970  NEXT I
    0x5950392d3dc0 ---------B   00972  REM AFTER T8 DAYS RANDOMLY CHANGE TREND SIGN AND SLOPE 
    0x5950392d4110 ---------B   00973  LET T8=T8-1 
    0x5950392d4360 ---------B   00974  IF T8<1 THEN 985
    0x5950392d43c0 ---------B   00980  RETURN
    0x5950392d44a0 ---------B T 00985  REM RANDOMLY CHANGE TREND SIGN AND SLOPE (A), AND DURATION 
    0x5950392d4530 ---------B   00986  REM OF TREND (T8)
    0x5950392d4b60 ---------B   00990  LET T8=INT(4.99*RND(X)+1) 
    0x5950392d5390 ---------B   00992  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392d5760 ---------B   00993  LET S4=RND(X) 
    0x5950392d59b0 ---------B   00994  IF S4<=.5 THEN 997
    0x5950392d5bf0 ---------B   00995  LET A=-A
    0x5950392d5c40 ---------B T 00997  RETURN
    0x5950392d5db0 ---------A T 00998  PRINT "HOPE YOU HAD FUN!!"
    0x5950392d5e10 ---------A   00999  END
 */

/*
 * Line reference table:
 *

    Target
   Line Num.    Referencing line number (Reference is T-GOTO or G-GOSUB).
   ---------    -------------------------------------------------------------------
     00200      00126T
     00270      00268T
     00360      00810T
     00398      00395T
     00399      00397T
     00416      00411T
     00420      00616T, 00660T
     00610      00580T
     00620      00600T, 00612T
     00674      00656T
     00769      00759T
     00830      00280G, 00720G
     00850      00841T
     00860      00851T
     00920      00915T
     00925      00920T
     00930      00925T
     00935      00917T, 00922T, 00927T
     00945      00936T, 00937T
     00955      00945T, 00947T
     00967      00960T
     00970      00966T
     00985      00974T
     00997      00994T
     00998      00414T

 */

/* 
 * Routine Start, Target, Return and End Program Addresses 
 * 

  Rtn      Start     LineNum       Target     LineNum        Return    LineNum        End       LineNum  
  --- --------------  -----    --------------  -----    --------------  -----    --------------  -----   
   A) 0x5950392a86d0 (00010)   0x5950392a86d0 (00010)   0x5950392d5e10 (00999)   0x5950392d5e10 (00999)   
   B) 0x5950392ca620 (00829)   0x5950392ca700 (00830)   0x5950392d43c0 (00980)   0x5950392d5c40 (00997)   

    NOTE: Routine B overlaps, or is tangled with, routine A!

 */

/*
 * Title: The unrolled BASIC Listing
 *
 *  Listing of basic/stock.bas: 
 *
                   +--------+---- Routine IDs (Empty field=Inaccessible code, A=Main program).
                   |        | +-- Target status (G-GOSUB, T-GOTO, B-Both GOSUB and GOTO)
        Program    |        | |
        Address    v        v v Original BASIC statement
    -------------- ---------- - ------------------------------------------------------------------------------
    0x5950392a86d0 ---------A   00010  PRINT TAB(30);"STOCK MARKET"
    0x5950392a8670 ---------A   00020  PRINT TAB(15);"CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY"
    0x5950392a9fc0 ----------   00030  PRINT
    0x5950392a92d0 ----------        a PRINT
    0x5950392992b0 ---------A        b PRINT
    0x5950392a9b80 ---------A   00100  REM STOCK MARKET SIMULATION     -STOCK-
    0x5950392aae10 ---------A   00101  REM REVISED 8/18/70 (D. PESSEL, L. BRAUN, C. LOSIK)  
    0x5950392aaa40 ---------A   00102  REM IMP VRBLS
    0x5950392a9090 ---------A   00103  REM C5-TTL CSH ASSTS (TEMP); C(I)-CHNG IN STK VAL; D-TTL ASSTS;
    0x5950392a9480 ---------A   00104  REM E1,E2-LRG CHNG MISC; I-STCK #; I1,I2-STCKS W LRG CHNG; 
    0x5950392aa690 ---------A   00105  REM N1,N2-LRG CHNG DAY CNTS; P5-TTL DAYS PRCHSS; P(I)-PRTFL CNTNTS;
    0x5950392a8be0 ---------A   00106  REM Q9-NEW CYCL?; S4-SGN OF A; S5-TTL DYS SLS; S(I)-VALUE/SHR; 
    0x5950392a8c70 ---------A   00107  REM T-TTL STCK ASSTS; T5-TTL VAL OF TRNSCTNS;
    0x5950392ab140 ---------A   00108  REM W3-LRG CHNG; X1-SMLL CHNG(<$1); Z4,Z5,Z6-NYSE AVE.; Z(I)-TRNSCT
    0x5950392b0c00 ---------A   00110  DIM S(5),P(5),Z(5),C(5) 
    0x5950392b0c90 ---------A   00112  REM SLOPE OF MARKET TREND
    0x5950392b0f20 ---------A   00113  LET X=1
    0x5950392b1810 ---------A   00114  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392b1ae0 ---------A   00115  LET T5=0
    0x5950392b1db0 ---------A   00116  LET X9=0
    0x5950392b2080 ---------A   00117  LET N1=0
    0x5950392b2350 ---------A   00118  LET N2=0
    0x5950392b2620 ---------A   00119  LET E1=0
    0x5950392b28f0 ---------A   00120  LET E2=0
    0x5950392b2960 ---------A   00121  REM INTRODUCTION 
    0x5950392b2b40 ---------A   00122  PRINT "DO YOU WANT THE INSTRUCTIONS (YES-TYPE 1, NO-TYPE 0)"; 
    0x5950392b2d60 ---------A   00123  INPUT Z9
    0x5950392b2de0 ---------A   00124  PRINT 
    0x5950392b2e60 ---------A   00125  PRINT 
    0x5950392b30f0 ---------A   00126  IF Z9<1 THEN 200
    0x5950392b32b0 ---------A   00130  PRINT "THIS PROGRAM PLAYS THE STOCK MARKET.  YOU WILL BE GIVEN" 
    0x5950392b3470 ---------A   00132  PRINT "$10,000 AND MAY BUY OR SELL STOCKS.  THE STOCK PRICES WILL"
    0x5950392b3630 ---------A   00134  PRINT "BE GENERATED RANDOMLY AND THEREFORE THIS MODEL DOES NOT" 
    0x5950392b37f0 ---------A   00135  PRINT "REPRESENT EXACTLY WHAT HAPPENS ON THE EXCHANGE.  A TABLE"
    0x5950392b39b0 ---------A   00136  PRINT "OF AVAILABLE STOCKS, THEIR PRICES, AND THE NUMBER OF SHARES"
    0x5950392b3d80 ---------A   00137  PRINT "IN YOUR PORTFOLIO WILL BE PRINTED.  FOLLOWING THIS, THE" 
    0x5950392b3f40 ---------A   00138  PRINT "INITIALS OF EACH STOCK WILL BE PRINTED WITH A QUESTION"
    0x5950392b4100 ---------A   00139  PRINT "MARK.  HERE YOU INDICATE A TRANSACTION.  TO BUY A STOCK" 
    0x5950392b42e0 ---------A   00140  PRINT "TYPE +NNN, TO SELL A STOCK TYPE -NNN, WHERE NNN IS THE"  
    0x5950392b44a0 ---------A   00141  PRINT "NUMBER OF SHARES.  A BROKERAGE FEE OF 1% WILL BE CHARGED"
    0x5950392b4660 ---------A   00142  PRINT "ON ALL TRANSACTIONS.  NOTE THAT IF A STOCK'S VALUE DROPS"
    0x5950392b4820 ---------A   00143  PRINT "TO ZERO IT MAY REBOUND TO A POSITIVE VALUE AGAIN.  YOU"
    0x5950392b49e0 ---------A   00144  PRINT "HAVE $10,000 TO INVEST.  USE INTEGERS FOR ALL YOUR INPUTS."
    0x5950392b4b70 ---------A   00145  PRINT "(NOTE:  TO GET A 'FEEL' FOR THE MARKET RUN FOR AT LEAST" 
    0x5950392b4cb0 ---------A   00146  PRINT "10 DAYS)"
    0x5950392b4e30 ---------A   00147  PRINT "-----GOOD LUCK!-----"
    0x5950392b4ed0 ---------A T 00200  REM GENERATION OF STOCK TABLE; INPUT REQUESTS  
    0x5950392b4f20 ---------A   00210  REM INITIAL STOCK VALUES 
    0x5950392b5210 ---------A   00220  LET S(1)=100
    0x5950392b54e0 ---------A   00230  LET S(2)=85 
    0x5950392b57b0 ---------A   00240  LET S(3)=150
    0x5950392b5a80 ---------A   00250  LET S(4)=140
    0x5950392b5d70 ---------A   00260  LET S(5)=110
    0x5950392b5e00 ---------A   00265  REM INITIAL T8 - # DAYS FOR FIRST TREND SLOPE (A)
    0x5950392b64d0 ---------A   00266  LET T8=INT(4.99*RND(X)+1) 
    0x5950392b6560 ---------A   00267  REM RANDOMIZE SIGN OF FIRST TREND SLOPE (A)
    0x5950392b68c0 ---------A   00268  IF RND(X)>.5 THEN 270 
    0x5950392b6b10 ---------A   00269  LET A=-A
    0x5950392b6b90 ---------A T 00270  REM RANDOMIZE INITIAL VALUES 
    0x5950392b6c30 ---------A   00280  GOSUB 830 
    0x5950392b6cb0 ---------A   00285  REM INITIAL PORTFOLIO CONTENTS 
    0x5950392b7060 ---------A   00290  FOR I=1 TO 5
    0x5950392b7360 ---------A   00300  LET P(I)=0
    0x5950392b7650 ---------A   00305  LET Z(I)=0
    0x5950392b7780 ---------A   00310  NEXT I
    0x5950392b7810 ---------A   00320  PRINT 
    0x5950392b78a0 ---------A   00330  PRINT 
    0x5950392b7d40 ---------A   00333  REM INITIALIZE CASH ASSETS
    0x5950392b7f80 ---------A   00335  LET C=10000 
    0x5950392b8000 ---------A   00338  REM PRINT INITIAL PORTFOLIO
    0x5950392b84b0 ---------A   00340  PRINT "STOCK"," ","INITIALS","PRICE/SHARE"
    0x5950392b8900 ---------A   00350  PRINT "INT. BALLISTIC MISSILES","  IBM",S(1)
    0x5950392b8d40 ---------A   00352  PRINT "RED CROSS OF AMERICA","  RCA",S(2) 
    0x5950392b9190 ---------A   00354  PRINT "LICHTENSTEIN, BUMRAP & JOKE","  LBJ",S(3)
    0x5950392b95d0 ---------A   00356  PRINT "AMERICAN BANKRUPT CO.","  ABC",S(4)
    0x5950392b99f0 ---------A   00358  PRINT "CENSURED BOOKS STORE","  CBS",S(5) 
    0x5950392b9a90 ---------A T 00360  PRINT 
    0x5950392b9b30 ---------A   00361  REM NYSE AVERAGE
    0x5950392b9f00 ---------A   00363  LET Z4=Z5 
    0x5950392ba110 ---------A   00364  LET Z5=0
    0x5950392ba3e0 ---------A   00365  LET T=0 
    0x5950392ba6b0 ---------A   00370  FOR I=1 TO 5
    0x5950392baaf0 ---------A   00375  LET Z5=Z5+S(I)
    0x5950392bb120 ---------A   00380  LET T=T+S(I)*P(I) 
    0x5950392bb250 ---------A   00390  NEXT I
    0x5950392bb9e0 ---------A   00391  LET Z5=INT(100*(Z5/5)+.5)/100 
    0x5950392bc210 ---------A   00392  LET Z6=INT((Z5-Z4)*100+.5)/100
    0x5950392bc280 ---------A   00393  REM TOTAL ASSETS
    0x5950392bc6b0 ---------A   00394  LET D=T+C 
    0x5950392bc920 ---------A   00395  IF X9>0 THEN 398
    0x5950392bcb90 ---------A   00396  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5 
    0x5950392bcc40 ---------A   00397  GOTO 399 
    0x5950392bd0a0 ---------A T 00398  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5"NET CHANGE"Z6
    0x5950392bd130 ---------A T 00399  PRINT 
    0x5950392bd770 ---------A   00400  LET T=INT(100*T+.5)/100 
    0x5950392bd9e0 ---------A   00401  PRINT "TOTAL STOCK ASSETS ARE   $";T
    0x5950392be020 ---------A   00403  LET C=INT(100*C+.5)/100 
    0x5950392be290 ---------A   00405  PRINT "TOTAL CASH ASSETS ARE    $";C
    0x5950392be8d0 ---------A   00407  LET D=INT(100*D+.5)/100 
    0x5950392beb30 ---------A   00408  PRINT "TOTAL ASSETS ARE         $";D
    0x5950392bebb0 ---------A   00410  PRINT 
    0x5950392bee40 ---------A   00411  IF X9=0 THEN 416
    0x5950392befe0 ---------A   00412  PRINT "DO YOU WISH TO CONTINUE (YES-TYPE 1, NO-TYPE 0)";
    0x5950392bf200 ---------A   00413  INPUT Q9
    0x5950392bf470 ---------A   00414  IF Q9<1 THEN 998
    0x5950392bf4f0 ---------A T 00416  REM INPUT TRANSACTIONS 
    0x5950392bf690 ---------A T 00420  PRINT "WHAT IS YOUR TRANSACTION IN" 
    0x5950392bf810 ---------A   00430  PRINT "IBM";
    0x5950392bfa30 ---------A   00440  INPUT Z(1)
    0x5950392bfbb0 ---------A   00450  PRINT "RCA";
    0x5950392bfdd0 ---------A   00460  INPUT Z(2)
    0x5950392bff50 ---------A   00470  PRINT "LBJ";
    0x5950392c0170 ---------A   00480  INPUT Z(3)
    0x5950392c02f0 ---------A   00490  PRINT "ABC";
    0x5950392c0510 ---------A   00500  INPUT Z(4)
    0x5950392c0690 ---------A   00510  PRINT "CBS";
    0x5950392c08b0 ---------A   00520  INPUT Z(5)
    0x5950392c0940 ---------A   00525  PRINT 
    0x5950392c09d0 ---------A   00530  REM TOTAL DAY'S PURCHASES IN $
    0x5950392c0cd0 ---------A   00540  LET P5=0
    0x5950392c0d50 ---------A   00550  REM TOTAL DAY'S SALES IN $
    0x5950392c1040 ---------A   00560  LET S5=0
    0x5950392c1320 ---------A   00570  FOR I=1 TO 5
    0x5950392c1910 ---------A   00575  LET Z(I)=INT(Z(I)+.5) 
    0x5950392c1c50 ---------A   00580  IF Z(I)<=0 THEN 610 
    0x5950392c2290 ---------A   00590  LET P5=P5+Z(I)*S(I) 
    0x5950392c2310 ---------A   00600  GOTO 620 
    0x5950392c2950 ---------A T 00610  LET S5=S5-Z(I)*S(I) 
    0x5950392c2da0 ---------A   00612  IF -Z(I)<=P(I) THEN 620 
    0x5950392c2f10 ---------A   00614  PRINT "YOU HAVE OVERSOLD A STOCK; TRY AGAIN." 
    0x5950392c2f90 ---------A   00616  GOTO 420 
    0x5950392c38d0 ---------A T 00620  NEXT I
    0x5950392c3980 ---------A   00622  REM TOTAL VALUE OF TRANSACTIONS
    0x5950392c3d00 ---------A   00625  LET T5=P5+S5
    0x5950392c3d70 ---------A   00630  REM BROKERAGE FEE
    0x5950392c4590 ---------A   00640  LET B5=INT(.01*T5*100+.5)/100 
    0x5950392c4620 ---------A   00650  REM CASH ASSETS=OLD CASH ASSETS-TOTAL PURCHASES
    0x5950392c46d0 ---------A   00652  REM -BROKERAGE FEES+TOTAL SALES
    0x5950392c4d40 ---------A   00654  LET C5=C-P5-B5+S5 
    0x5950392c4fb0 ---------A   00656  IF C5>=0 THEN 674 
    0x5950392c5310 ---------A   00658  PRINT "YOU HAVE USED $";-C5;" MORE THAN YOU HAVE." 
    0x5950392c5390 ---------A   00660  GOTO 420
    0x5950392c55d0 ---------A T 00674  LET C=C5
    0x5950392c5650 ---------A   00675  REM CALCULATE NEW PORTFOLIO  
    0x5950392c5940 ---------A   00680  FOR I=1 TO 5
    0x5950392c5f40 ---------A   00690  LET P(I)=P(I)+Z(I)
    0x5950392c6070 ---------A   00700  NEXT I
    0x5950392c6120 ---------A   00710  REM CALCULATE NEW STOCK VALUES 
    0x5950392c61b0 ---------A   00720  GOSUB 830 
    0x5950392c6220 ---------A   00750  REM PRINT PORTFOLIO
    0x5950392c62f0 ---------A   00751  REM BELL RINGING-DIFFERENT ON MANY COMPUTERS 
    0x5950392c63b0 ---------A   00755  PRINT 
    0x5950392c6530 ---------A   00756  PRINT "**********     END OF DAY'S TRADING     **********"
    0x5950392c65b0 ---------A   00757  PRINT 
    0x5950392c6630 ---------A   00758  PRINT 
    0x5950392c68c0 ---------A   00759  IF X9<1 THEN 769
    0x5950392c6e40 ---------A T 00769  PRINT "STOCK","PRICE/SHARE","HOLDINGS", "VALUE", "NET PRICE CHANGE"
    0x5950392c78a0 ---------A   00770  PRINT "IBM", S(1), P(1), S(1)*P(1), C(1)
    0x5950392c8300 ---------A   00771  PRINT "RCA", S(2), P(2), S(2)*P(2), C(2)
    0x5950392c8d60 ---------A   00772  PRINT "LBJ", S(3), P(3), S(3)*P(3), C(3)
    0x5950392c97c0 ---------A   00773  PRINT "ABC", S(4), P(4), S(4)*P(4), C(4)
    0x5950392ca200 ---------A   00774  PRINT "CBS", S(5), P(5), S(5)*P(5), C(5)
    0x5950392ca420 ---------A   00775  LET X9=1
    0x5950392ca490 ---------A   00780  PRINT 
    0x5950392ca510 ---------A   00790  PRINT 
    0x5950392ca5a0 ---------A   00810  GOTO 360 
    0x5950392ca620 ---------B   00829  REM NEW STOCK VALUES - SUBROUTINE
    0x5950392ca700 ---------B G 00830  REM RANDOMLY PRODUCE NEW STOCK VALUES BASED ON PREVIOUS
    0x5950392ca790 ---------B   00831  REM DAY'S VALUES 
    0x5950392ca870 ---------B   00832  REM N1,N2 ARE RANDOM NUMBERS OF DAYS WHICH RESPECTIVELY
    0x5950392ca960 ---------B   00833  REM DETERMINE WHEN STOCK I1 WILL INCREASE 10 PTS. AND STOCK
    0x5950392caa10 ---------B   00834  REM I2 WILL DECREASE 10 PTS. 
    0x5950392cab00 ---------B   00840  REM IF N1 DAYS HAVE PASSED, PICK AN I1, SET E1, DETERMINE NEW N1 
    0x5950392cad80 ---------B   00841  IF N1>0 THEN 850
    0x5950392cb450 ---------B   00845  LET I1=INT(4.99*RND(X)+1) 
    0x5950392cba40 ---------B   00846  LET N1=INT(4.99*RND(X)+1) 
    0x5950392cbc80 ---------B   00847  LET E1=1
    0x5950392cbd20 ---------B T 00850  REM IF N2 DAYS HAVE PASSED, PICK AN I2, SET E2, DETERMINE NEW N2 
    0x5950392cbfa0 ---------B   00851  IF N2>0 THEN 860
    0x5950392cc670 ---------B   00855  LET I2=INT(4.99*RND(X)+1) 
    0x5950392ccc60 ---------B   00856  LET N2=INT(4.99*RND(X)+1) 
    0x5950392cce80 ---------B   00857  LET E2=1
    0x5950392ccf00 ---------B T 00860  REM DEDUCT ONE DAY FROM N1 AND N2
    0x5950392cd250 ---------B   00861  LET N1=N1-1 
    0x5950392cd590 ---------B   00862  LET N2=N2-1 
    0x5950392cd610 ---------B   00890  REM LOOP THROUGH ALL STOCKS
    0x5950392cd900 ---------B   00900  FOR I=1 TO 5
    0x5950392cdce0 ---------B   00910  LET X1=RND(X) 
    0x5950392cdf30 ---------B   00915  IF X1>.25 THEN 920
    0x5950392ce150 ---------B   00916  LET X1=.25
    0x5950392ce1c0 ---------B   00917  GOTO 935 
    0x5950392ce410 ---------B T 00920  IF X1>.5 THEN 925
    0x5950392ce630 ---------B   00921  LET X1=.5
    0x5950392ce6a0 ---------B   00922  GOTO 935 
    0x5950392ce8f0 ---------B T 00925  IF X1>.75 THEN 930
    0x5950392ceb10 ---------B   00926  LET X1=.75  
    0x5950392ceb80 ---------B   00927  GOTO 935 
    0x5950392cedb0 ---------B T 00930  LET X1=0.0
    0x5950392cee40 ---------B   00931  REM BIG CHANGE CONSTANT
    0x5950392cf130 ---------B T 00935  LET W3=0
    0x5950392cf390 ---------B   00936  IF E1<1 THEN 945
    0x5950392cf9f0 ---------B   00937  IF INT(I1+.5)<>INT(I+.5) THEN 945 
    0x5950392cfa90 ---------B   00938  REM ADD 10 PTS. TO THIS STOCK;  RESET E1 
    0x5950392cfcc0 ---------B   00939  LET W3=10 
    0x5950392cfed0 ---------B   00943  LET E1=0
    0x5950392d0130 ---------B T 00945  IF E2<1 THEN 955
    0x5950392d0790 ---------B   00947  IF INT(I2+.5)<>INT(I+.5) THEN 955 
    0x5950392d0830 ---------B   00948  REM SUBTRACT 10 PTS. FROM THIS STOCK;  RESET E2
    0x5950392d0b80 ---------B   00949  LET W3=W3-10
    0x5950392d0da0 ---------B   00953  LET E2=0
    0x5950392d0e20 ---------B   00954  REM C(I) IS CHANGE IN STOCK VALUE
    0x5950392d1c80 ---------B T 00955  LET C(I)=INT(A*S(I))+X1+INT(3-6*RND(X)+.5)+W3 
    0x5950392d2450 ---------B   00956  LET C(I)=INT(100*C(I)+.5)/100 
    0x5950392d2a40 ---------B   00957  LET S(I)=S(I)+C(I)
    0x5950392d2d70 ---------B   00960  IF S(I)>0 THEN 967
    0x5950392d3070 ---------B   00964  LET C(I)=0
    0x5950392d3360 ---------B   00965  LET S(I)=0
    0x5950392d33e0 ---------B   00966  GOTO 970 
    0x5950392d3bb0 ---------B T 00967  LET S(I)=INT(100*S(I)+.5)/100 
    0x5950392d3ce0 ---------B T 00970  NEXT I
    0x5950392d3dc0 ---------B   00972  REM AFTER T8 DAYS RANDOMLY CHANGE TREND SIGN AND SLOPE 
    0x5950392d4110 ---------B   00973  LET T8=T8-1 
    0x5950392d4360 ---------B   00974  IF T8<1 THEN 985
    0x5950392d43c0 ---------B   00980  RETURN
    0x5950392d44a0 ---------B T 00985  REM RANDOMLY CHANGE TREND SIGN AND SLOPE (A), AND DURATION 
    0x5950392d4530 ---------B   00986  REM OF TREND (T8)
    0x5950392d4b60 ---------B   00990  LET T8=INT(4.99*RND(X)+1) 
    0x5950392d5390 ---------B   00992  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392d5760 ---------B   00993  LET S4=RND(X) 
    0x5950392d59b0 ---------B   00994  IF S4<=.5 THEN 997
    0x5950392d5bf0 ---------B   00995  LET A=-A
    0x5950392d5c40 ---------B T 00997  RETURN
    0x5950392d5db0 ---------A T 00998  PRINT "HOPE YOU HAD FUN!!"
    0x5950392d5e10 ---------A   00999  END
 */

/*
 * Title: The unrolled BASIC Listing,after renumbering
 *
 *  Listing of basic/stock.bas: 
 *
                   +--------+---- Routine IDs (Empty field=Inaccessible code, A=Main program).
                   |        | +-- Target status (G-GOSUB, T-GOTO, B-Both GOSUB and GOTO)
        Program    |        | |
        Address    v        v v Original BASIC statement
    -------------- ---------- - ------------------------------------------------------------------------------
    0x5950392a86d0 ---------A   01000  PRINT TAB(30);"STOCK MARKET"
    0x5950392a8670 ---------A   01010  PRINT TAB(15);"CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY"
    0x5950392a9fc0 ----------   01020  PRINT
    0x5950392a92d0 ----------   01030  PRINT
    0x5950392992b0 ---------A   01040  PRINT
    0x5950392a9b80 ---------A   01050  REM STOCK MARKET SIMULATION     -STOCK-
    0x5950392aae10 ---------A   01060  REM REVISED 8/18/70 (D. PESSEL, L. BRAUN, C. LOSIK)  
    0x5950392aaa40 ---------A   01070  REM IMP VRBLS
    0x5950392a9090 ---------A   01080  REM C5-TTL CSH ASSTS (TEMP); C(I)-CHNG IN STK VAL; D-TTL ASSTS;
    0x5950392a9480 ---------A   01090  REM E1,E2-LRG CHNG MISC; I-STCK #; I1,I2-STCKS W LRG CHNG; 
    0x5950392aa690 ---------A   01100  REM N1,N2-LRG CHNG DAY CNTS; P5-TTL DAYS PRCHSS; P(I)-PRTFL CNTNTS;
    0x5950392a8be0 ---------A   01110  REM Q9-NEW CYCL?; S4-SGN OF A; S5-TTL DYS SLS; S(I)-VALUE/SHR; 
    0x5950392a8c70 ---------A   01120  REM T-TTL STCK ASSTS; T5-TTL VAL OF TRNSCTNS;
    0x5950392ab140 ---------A   01130  REM W3-LRG CHNG; X1-SMLL CHNG(<$1); Z4,Z5,Z6-NYSE AVE.; Z(I)-TRNSCT
    0x5950392b0c00 ---------A   01140  DIM S(5),P(5),Z(5),C(5) 
    0x5950392b0c90 ---------A   01150  REM SLOPE OF MARKET TREND
    0x5950392b0f20 ---------A   01160  LET X=1
    0x5950392b1810 ---------A   01170  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392b1ae0 ---------A   01180  LET T5=0
    0x5950392b1db0 ---------A   01190  LET X9=0
    0x5950392b2080 ---------A   01200  LET N1=0
    0x5950392b2350 ---------A   01210  LET N2=0
    0x5950392b2620 ---------A   01220  LET E1=0
    0x5950392b28f0 ---------A   01230  LET E2=0
    0x5950392b2960 ---------A   01240  REM INTRODUCTION 
    0x5950392b2b40 ---------A   01250  PRINT "DO YOU WANT THE INSTRUCTIONS (YES-TYPE 1, NO-TYPE 0)"; 
    0x5950392b2d60 ---------A   01260  INPUT Z9
    0x5950392b2de0 ---------A   01270  PRINT 
    0x5950392b2e60 ---------A   01280  PRINT 
    0x5950392b30f0 ---------A   01290  IF Z9<1 THEN 1460
    0x5950392b32b0 ---------A   01300  PRINT "THIS PROGRAM PLAYS THE STOCK MARKET.  YOU WILL BE GIVEN" 
    0x5950392b3470 ---------A   01310  PRINT "$10,000 AND MAY BUY OR SELL STOCKS.  THE STOCK PRICES WILL"
    0x5950392b3630 ---------A   01320  PRINT "BE GENERATED RANDOMLY AND THEREFORE THIS MODEL DOES NOT" 
    0x5950392b37f0 ---------A   01330  PRINT "REPRESENT EXACTLY WHAT HAPPENS ON THE EXCHANGE.  A TABLE"
    0x5950392b39b0 ---------A   01340  PRINT "OF AVAILABLE STOCKS, THEIR PRICES, AND THE NUMBER OF SHARES"
    0x5950392b3d80 ---------A   01350  PRINT "IN YOUR PORTFOLIO WILL BE PRINTED.  FOLLOWING THIS, THE" 
    0x5950392b3f40 ---------A   01360  PRINT "INITIALS OF EACH STOCK WILL BE PRINTED WITH A QUESTION"
    0x5950392b4100 ---------A   01370  PRINT "MARK.  HERE YOU INDICATE A TRANSACTION.  TO BUY A STOCK" 
    0x5950392b42e0 ---------A   01380  PRINT "TYPE +NNN, TO SELL A STOCK TYPE -NNN, WHERE NNN IS THE"  
    0x5950392b44a0 ---------A   01390  PRINT "NUMBER OF SHARES.  A BROKERAGE FEE OF 1% WILL BE CHARGED"
    0x5950392b4660 ---------A   01400  PRINT "ON ALL TRANSACTIONS.  NOTE THAT IF A STOCK'S VALUE DROPS"
    0x5950392b4820 ---------A   01410  PRINT "TO ZERO IT MAY REBOUND TO A POSITIVE VALUE AGAIN.  YOU"
    0x5950392b49e0 ---------A   01420  PRINT "HAVE $10,000 TO INVEST.  USE INTEGERS FOR ALL YOUR INPUTS."
    0x5950392b4b70 ---------A   01430  PRINT "(NOTE:  TO GET A 'FEEL' FOR THE MARKET RUN FOR AT LEAST" 
    0x5950392b4cb0 ---------A   01440  PRINT "10 DAYS)"
    0x5950392b4e30 ---------A   01450  PRINT "-----GOOD LUCK!-----"
    0x5950392b4ed0 ---------A   01460  REM GENERATION OF STOCK TABLE; INPUT REQUESTS  
    0x5950392b4f20 ---------A   01470  REM INITIAL STOCK VALUES 
    0x5950392b5210 ---------A   01480  LET S(1)=100
    0x5950392b54e0 ---------A   01490  LET S(2)=85 
    0x5950392b57b0 ---------A   01500  LET S(3)=150
    0x5950392b5a80 ---------A   01510  LET S(4)=140
    0x5950392b5d70 ---------A   01520  LET S(5)=110
    0x5950392b5e00 ---------A   01530  REM INITIAL T8 - # DAYS FOR FIRST TREND SLOPE (A)
    0x5950392b64d0 ---------A   01540  LET T8=INT(4.99*RND(X)+1) 
    0x5950392b6560 ---------A   01550  REM RANDOMIZE SIGN OF FIRST TREND SLOPE (A)
    0x5950392b68c0 ---------A   01560  IF RND(X)>.5 THEN 1580 
    0x5950392b6b10 ---------A   01570  LET A=-A
    0x5950392b6b90 ---------A   01580  REM RANDOMIZE INITIAL VALUES 
    0x5950392b6c30 ---------A   01590  GOSUB 2670 
    0x5950392b6cb0 ---------A   01600  REM INITIAL PORTFOLIO CONTENTS 
    0x5950392b7060 ---------A   01610  FOR I=1 TO 5
    0x5950392b7360 ---------A   01620  LET P(I)=0
    0x5950392b7650 ---------A   01630  LET Z(I)=0
    0x5950392b7780 ---------A   01640  NEXT I
    0x5950392b7810 ---------A   01650  PRINT 
    0x5950392b78a0 ---------A   01660  PRINT 
    0x5950392b7d40 ---------A   01670  REM INITIALIZE CASH ASSETS
    0x5950392b7f80 ---------A   01680  LET C=10000 
    0x5950392b8000 ---------A   01690  REM PRINT INITIAL PORTFOLIO
    0x5950392b84b0 ---------A   01700  PRINT "STOCK"," ","INITIALS","PRICE/SHARE"
    0x5950392b8900 ---------A   01710  PRINT "INT. BALLISTIC MISSILES","  IBM",S(1)
    0x5950392b8d40 ---------A   01720  PRINT "RED CROSS OF AMERICA","  RCA",S(2) 
    0x5950392b9190 ---------A   01730  PRINT "LICHTENSTEIN, BUMRAP & JOKE","  LBJ",S(3)
    0x5950392b95d0 ---------A   01740  PRINT "AMERICAN BANKRUPT CO.","  ABC",S(4)
    0x5950392b99f0 ---------A   01750  PRINT "CENSURED BOOKS STORE","  CBS",S(5) 
    0x5950392b9a90 ---------A   01760  PRINT 
    0x5950392b9b30 ---------A   01770  REM NYSE AVERAGE
    0x5950392b9f00 ---------A   01780  LET Z4=Z5 
    0x5950392ba110 ---------A   01790  LET Z5=0
    0x5950392ba3e0 ---------A   01800  LET T=0 
    0x5950392ba6b0 ---------A   01810  FOR I=1 TO 5
    0x5950392baaf0 ---------A   01820  LET Z5=Z5+S(I)
    0x5950392bb120 ---------A   01830  LET T=T+S(I)*P(I) 
    0x5950392bb250 ---------A   01840  NEXT I
    0x5950392bb9e0 ---------A   01850  LET Z5=INT(100*(Z5/5)+.5)/100 
    0x5950392bc210 ---------A   01860  LET Z6=INT((Z5-Z4)*100+.5)/100
    0x5950392bc280 ---------A   01870  REM TOTAL ASSETS
    0x5950392bc6b0 ---------A   01880  LET D=T+C 
    0x5950392bc920 ---------A   01890  IF X9>0 THEN 1920
    0x5950392bcb90 ---------A   01900  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5 
    0x5950392bcc40 ---------A   01910  GOTO 1930 
    0x5950392bd0a0 ---------A   01920  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5"NET CHANGE"Z6
    0x5950392bd130 ---------A   01930  PRINT 
    0x5950392bd770 ---------A   01940  LET T=INT(100*T+.5)/100 
    0x5950392bd9e0 ---------A   01950  PRINT "TOTAL STOCK ASSETS ARE   $";T
    0x5950392be020 ---------A   01960  LET C=INT(100*C+.5)/100 
    0x5950392be290 ---------A   01970  PRINT "TOTAL CASH ASSETS ARE    $";C
    0x5950392be8d0 ---------A   01980  LET D=INT(100*D+.5)/100 
    0x5950392beb30 ---------A   01990  PRINT "TOTAL ASSETS ARE         $";D
    0x5950392bebb0 ---------A   02000  PRINT 
    0x5950392bee40 ---------A   02010  IF X9=0 THEN 2050
    0x5950392befe0 ---------A   02020  PRINT "DO YOU WISH TO CONTINUE (YES-TYPE 1, NO-TYPE 0)";
    0x5950392bf200 ---------A   02030  INPUT Q9
    0x5950392bf470 ---------A   02040  IF Q9<1 THEN 3320
    0x5950392bf4f0 ---------A   02050  REM INPUT TRANSACTIONS 
    0x5950392bf690 ---------A   02060  PRINT "WHAT IS YOUR TRANSACTION IN" 
    0x5950392bf810 ---------A   02070  PRINT "IBM";
    0x5950392bfa30 ---------A   02080  INPUT Z(1)
    0x5950392bfbb0 ---------A   02090  PRINT "RCA";
    0x5950392bfdd0 ---------A   02100  INPUT Z(2)
    0x5950392bff50 ---------A   02110  PRINT "LBJ";
    0x5950392c0170 ---------A   02120  INPUT Z(3)
    0x5950392c02f0 ---------A   02130  PRINT "ABC";
    0x5950392c0510 ---------A   02140  INPUT Z(4)
    0x5950392c0690 ---------A   02150  PRINT "CBS";
    0x5950392c08b0 ---------A   02160  INPUT Z(5)
    0x5950392c0940 ---------A   02170  PRINT 
    0x5950392c09d0 ---------A   02180  REM TOTAL DAY'S PURCHASES IN $
    0x5950392c0cd0 ---------A   02190  LET P5=0
    0x5950392c0d50 ---------A   02200  REM TOTAL DAY'S SALES IN $
    0x5950392c1040 ---------A   02210  LET S5=0
    0x5950392c1320 ---------A   02220  FOR I=1 TO 5
    0x5950392c1910 ---------A   02230  LET Z(I)=INT(Z(I)+.5) 
    0x5950392c1c50 ---------A   02240  IF Z(I)<=0 THEN 2270 
    0x5950392c2290 ---------A   02250  LET P5=P5+Z(I)*S(I) 
    0x5950392c2310 ---------A   02260  GOTO 2310 
    0x5950392c2950 ---------A   02270  LET S5=S5-Z(I)*S(I) 
    0x5950392c2da0 ---------A   02280  IF -Z(I)<=P(I) THEN 2310 
    0x5950392c2f10 ---------A   02290  PRINT "YOU HAVE OVERSOLD A STOCK; TRY AGAIN." 
    0x5950392c2f90 ---------A   02300  GOTO 2060 
    0x5950392c38d0 ---------A   02310  NEXT I
    0x5950392c3980 ---------A   02320  REM TOTAL VALUE OF TRANSACTIONS
    0x5950392c3d00 ---------A   02330  LET T5=P5+S5
    0x5950392c3d70 ---------A   02340  REM BROKERAGE FEE
    0x5950392c4590 ---------A   02350  LET B5=INT(.01*T5*100+.5)/100 
    0x5950392c4620 ---------A   02360  REM CASH ASSETS=OLD CASH ASSETS-TOTAL PURCHASES
    0x5950392c46d0 ---------A   02370  REM -BROKERAGE FEES+TOTAL SALES
    0x5950392c4d40 ---------A   02380  LET C5=C-P5-B5+S5 
    0x5950392c4fb0 ---------A   02390  IF C5>=0 THEN 2420 
    0x5950392c5310 ---------A   02400  PRINT "YOU HAVE USED $";-C5;" MORE THAN YOU HAVE." 
    0x5950392c5390 ---------A   02410  GOTO 2060
    0x5950392c55d0 ---------A   02420  LET C=C5
    0x5950392c5650 ---------A   02430  REM CALCULATE NEW PORTFOLIO  
    0x5950392c5940 ---------A   02440  FOR I=1 TO 5
    0x5950392c5f40 ---------A   02450  LET P(I)=P(I)+Z(I)
    0x5950392c6070 ---------A   02460  NEXT I
    0x5950392c6120 ---------A   02470  REM CALCULATE NEW STOCK VALUES 
    0x5950392c61b0 ---------A   02480  GOSUB 2670 
    0x5950392c6220 ---------A   02490  REM PRINT PORTFOLIO
    0x5950392c62f0 ---------A   02500  REM BELL RINGING-DIFFERENT ON MANY COMPUTERS 
    0x5950392c63b0 ---------A   02510  PRINT 
    0x5950392c6530 ---------A   02520  PRINT "**********     END OF DAY'S TRADING     **********"
    0x5950392c65b0 ---------A   02530  PRINT 
    0x5950392c6630 ---------A   02540  PRINT 
    0x5950392c68c0 ---------A   02550  IF X9<1 THEN 2560
    0x5950392c6e40 ---------A   02560  PRINT "STOCK","PRICE/SHARE","HOLDINGS", "VALUE", "NET PRICE CHANGE"
    0x5950392c78a0 ---------A   02570  PRINT "IBM", S(1), P(1), S(1)*P(1), C(1)
    0x5950392c8300 ---------A   02580  PRINT "RCA", S(2), P(2), S(2)*P(2), C(2)
    0x5950392c8d60 ---------A   02590  PRINT "LBJ", S(3), P(3), S(3)*P(3), C(3)
    0x5950392c97c0 ---------A   02600  PRINT "ABC", S(4), P(4), S(4)*P(4), C(4)
    0x5950392ca200 ---------A   02610  PRINT "CBS", S(5), P(5), S(5)*P(5), C(5)
    0x5950392ca420 ---------A   02620  LET X9=1
    0x5950392ca490 ---------A   02630  PRINT 
    0x5950392ca510 ---------A   02640  PRINT 
    0x5950392ca5a0 ---------A   02650  GOTO 1760 
    0x5950392ca620 ---------B   02660  REM NEW STOCK VALUES - SUBROUTINE
    0x5950392ca700 ---------B   02670  REM RANDOMLY PRODUCE NEW STOCK VALUES BASED ON PREVIOUS
    0x5950392ca790 ---------B   02680  REM DAY'S VALUES 
    0x5950392ca870 ---------B   02690  REM N1,N2 ARE RANDOM NUMBERS OF DAYS WHICH RESPECTIVELY
    0x5950392ca960 ---------B   02700  REM DETERMINE WHEN STOCK I1 WILL INCREASE 10 PTS. AND STOCK
    0x5950392caa10 ---------B   02710  REM I2 WILL DECREASE 10 PTS. 
    0x5950392cab00 ---------B   02720  REM IF N1 DAYS HAVE PASSED, PICK AN I1, SET E1, DETERMINE NEW N1 
    0x5950392cad80 ---------B   02730  IF N1>0 THEN 2770
    0x5950392cb450 ---------B   02740  LET I1=INT(4.99*RND(X)+1) 
    0x5950392cba40 ---------B   02750  LET N1=INT(4.99*RND(X)+1) 
    0x5950392cbc80 ---------B   02760  LET E1=1
    0x5950392cbd20 ---------B   02770  REM IF N2 DAYS HAVE PASSED, PICK AN I2, SET E2, DETERMINE NEW N2 
    0x5950392cbfa0 ---------B   02780  IF N2>0 THEN 2820
    0x5950392cc670 ---------B   02790  LET I2=INT(4.99*RND(X)+1) 
    0x5950392ccc60 ---------B   02800  LET N2=INT(4.99*RND(X)+1) 
    0x5950392cce80 ---------B   02810  LET E2=1
    0x5950392ccf00 ---------B   02820  REM DEDUCT ONE DAY FROM N1 AND N2
    0x5950392cd250 ---------B   02830  LET N1=N1-1 
    0x5950392cd590 ---------B   02840  LET N2=N2-1 
    0x5950392cd610 ---------B   02850  REM LOOP THROUGH ALL STOCKS
    0x5950392cd900 ---------B   02860  FOR I=1 TO 5
    0x5950392cdce0 ---------B   02870  LET X1=RND(X) 
    0x5950392cdf30 ---------B   02880  IF X1>.25 THEN 2910
    0x5950392ce150 ---------B   02890  LET X1=.25
    0x5950392ce1c0 ---------B   02900  GOTO 2990 
    0x5950392ce410 ---------B   02910  IF X1>.5 THEN 2940
    0x5950392ce630 ---------B   02920  LET X1=.5
    0x5950392ce6a0 ---------B   02930  GOTO 2990 
    0x5950392ce8f0 ---------B   02940  IF X1>.75 THEN 2970
    0x5950392ceb10 ---------B   02950  LET X1=.75  
    0x5950392ceb80 ---------B   02960  GOTO 2990 
    0x5950392cedb0 ---------B   02970  LET X1=0.0
    0x5950392cee40 ---------B   02980  REM BIG CHANGE CONSTANT
    0x5950392cf130 ---------B   02990  LET W3=0
    0x5950392cf390 ---------B   03000  IF E1<1 THEN 3050
    0x5950392cf9f0 ---------B   03010  IF INT(I1+.5)<>INT(I+.5) THEN 3050 
    0x5950392cfa90 ---------B   03020  REM ADD 10 PTS. TO THIS STOCK;  RESET E1 
    0x5950392cfcc0 ---------B   03030  LET W3=10 
    0x5950392cfed0 ---------B   03040  LET E1=0
    0x5950392d0130 ---------B   03050  IF E2<1 THEN 3110
    0x5950392d0790 ---------B   03060  IF INT(I2+.5)<>INT(I+.5) THEN 3110 
    0x5950392d0830 ---------B   03070  REM SUBTRACT 10 PTS. FROM THIS STOCK;  RESET E2
    0x5950392d0b80 ---------B   03080  LET W3=W3-10
    0x5950392d0da0 ---------B   03090  LET E2=0
    0x5950392d0e20 ---------B   03100  REM C(I) IS CHANGE IN STOCK VALUE
    0x5950392d1c80 ---------B   03110  LET C(I)=INT(A*S(I))+X1+INT(3-6*RND(X)+.5)+W3 
    0x5950392d2450 ---------B   03120  LET C(I)=INT(100*C(I)+.5)/100 
    0x5950392d2a40 ---------B   03130  LET S(I)=S(I)+C(I)
    0x5950392d2d70 ---------B   03140  IF S(I)>0 THEN 3180
    0x5950392d3070 ---------B   03150  LET C(I)=0
    0x5950392d3360 ---------B   03160  LET S(I)=0
    0x5950392d33e0 ---------B   03170  GOTO 3190 
    0x5950392d3bb0 ---------B   03180  LET S(I)=INT(100*S(I)+.5)/100 
    0x5950392d3ce0 ---------B   03190  NEXT I
    0x5950392d3dc0 ---------B   03200  REM AFTER T8 DAYS RANDOMLY CHANGE TREND SIGN AND SLOPE 
    0x5950392d4110 ---------B   03210  LET T8=T8-1 
    0x5950392d4360 ---------B   03220  IF T8<1 THEN 3240
    0x5950392d43c0 ---------B   03230  RETURN
    0x5950392d44a0 ---------B   03240  REM RANDOMLY CHANGE TREND SIGN AND SLOPE (A), AND DURATION 
    0x5950392d4530 ---------B   03250  REM OF TREND (T8)
    0x5950392d4b60 ---------B   03260  LET T8=INT(4.99*RND(X)+1) 
    0x5950392d5390 ---------B   03270  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392d5760 ---------B   03280  LET S4=RND(X) 
    0x5950392d59b0 ---------B   03290  IF S4<=.5 THEN 3310
    0x5950392d5bf0 ---------B   03300  LET A=-A
    0x5950392d5c40 ---------B   03310  RETURN
    0x5950392d5db0 ---------A   03320  PRINT "HOPE YOU HAD FUN!!"
    0x5950392d5e10 ---------A   03330  END
 */



/*
 * Free line number map.
 *
     Start    End    # Lines in Gap
     -----   -----   ------------------
     00000 - 00990     100 
     03350 - 10000    6660 

 */



/*
 *  Symbol Table Listing for 'basic/stock.bas'
 *
    A                        Integer     
    ABS             Function Integer         args=1, int    
    ASC             Function Integer         args=1, char*  
    ATN             Function Float           args=1, float  
    B5                       Integer     
    C               Array    Integer         {0,4} 
    C5                       Integer     
    CDBL            Function Float           args=1, int    
    CHR$            Function String          args=1, int    
    CINT            Function Integer         args=1, float  
    COS             Function Float           args=1, float  
    CSNG            Function Float           args=1, int    
    CVD             Function Float           args=1, float  
    CVI             Function Integer         args=1, char*  
    CVS             Function Float           args=1, char*  
    D                        Integer     
    E1                       Integer     
    E2                       Integer     
    ENVIRON$        Function String          args=1, int    
    EOF             Function Integer         args=1, int    
    EXP             Function Float           args=1, int    
    EXTERR          Function Integer         args=1, int    
    FIX             Function Integer         args=1, float  
    FRE             Function Integer         args=1, char*  
    HEX$            Function String          args=1, int    
    I                        Integer     
    I1                       Integer     
    I2                       Integer     
    INP             Function Integer         args=1, int    
    INPUT$          Function String          args=2, int    int    
    INSTR           Function Integer         args=3, int    char*  char*  
    INT             Function Integer         args=1, float  
    IOCTL$          Function String          args=1, int    
    LEFT$           Function String          args=2, char*  int    
    LEN             Function Integer         args=1, char*  
    LOC             Function Integer         args=1, int    
    LOF             Function Integer         args=1, int    
    LOG             Function Float           args=1, float  
    LPOS            Function Integer         args=1, Any    
    MAX             Function Integer         args=1, int    
    MID$            Function String          args=2, char*  int    
    MIN             Function Integer         args=1, int    
    MKD$            Function String          args=1, int    
    MKI$            Function String          args=1, float  
    MKS$            Function String          args=1, float  
    N1                       Integer     
    N2                       Integer     
    OCT$            Function String          args=1, float  
    P               Array    Integer         {0,4} 
    P5                       Integer     
    PEEK            Function Integer         args=1, int    
    PEN             Function Integer         args=1, char*  
    PLAY            Function Integer         args=1, Any    
    PMAP            Function Integer         args=2, int    int    
    POINT           Function Integer         args=2, int    int    
    POS             Function Integer         args=1, Any    
    Q9                       Integer     
    RIGHT$          Function String          args=2, char*  int    
    RND             Function Float           args=1, int    
    S               Array    Integer         {0,4} 
    S4                       Integer     
    S5                       Integer     
    SGN             Function Integer         args=1, int    
    SIN             Function Float           args=1, float  
    SPACE$          Function String          args=1, int    
    SPC             Function Unknown (0)    args=1, int    
    SQR             Function Float           args=1, float  
    STICK           Function Integer         args=1, int    
    STR$            Function String          args=1, float  
    STRING$         Function String          args=2, int    int    
    T                        Integer     
    T5                       Integer     
    T8                       Integer     
    TAB             Function Unknown (0)    args=1, int    
    TAB$            Function String          args=1, int    
    TAN             Function Float           args=1, int    
    TIMER           Function Float           args=0, 
    VAL             Function Integer         args=1, char*  
    VARPTR          Function Integer         args=1, Any    
    VARPTR$         Function String          args=1, Any    
    W3                       Integer     
    X                        Integer     
    X1                       Integer     
    X9                       Integer     
    Z               Array    Integer         {0,4} 
    Z4                       Integer     
    Z5                       Integer     
    Z6                       Integer     
    Z9                       Integer     

 */


/*
 * Title: Display of final 'clean' BASIC listing.
 *
 *  Listing of basic/stock.bas: 
 *
                   +--------+---- Routine IDs (Empty field=Inaccessible code, A=Main program).
                   |        | +-- Target status (G-GOSUB, T-GOTO, B-Both GOSUB and GOTO)
        Program    |        | |
        Address    v        v v Original BASIC statement
    -------------- ---------- - ------------------------------------------------------------------------------
    0x5950392a86d0 ---------A   01000  PRINT TAB(30);"STOCK MARKET"
    0x5950392a8670 ---------A   01010  PRINT TAB(15);"CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY"
    0x5950392a9fc0 ---------A   01020  PRINT
    0x5950392a92d0 ---------A   01030  PRINT
    0x5950392992b0 ---------A   01040  PRINT
    0x5950392a9b80 ---------A   01050  REM STOCK MARKET SIMULATION     -STOCK-
    0x5950392aae10 ---------A   01060  REM REVISED 8/18/70 (D. PESSEL, L. BRAUN, C. LOSIK)  
    0x5950392aaa40 ---------A   01070  REM IMP VRBLS
    0x5950392a9090 ---------A   01080  REM C5-TTL CSH ASSTS (TEMP); C(I)-CHNG IN STK VAL; D-TTL ASSTS;
    0x5950392a9480 ---------A   01090  REM E1,E2-LRG CHNG MISC; I-STCK #; I1,I2-STCKS W LRG CHNG; 
    0x5950392aa690 ---------A   01100  REM N1,N2-LRG CHNG DAY CNTS; P5-TTL DAYS PRCHSS; P(I)-PRTFL CNTNTS;
    0x5950392a8be0 ---------A   01110  REM Q9-NEW CYCL?; S4-SGN OF A; S5-TTL DYS SLS; S(I)-VALUE/SHR; 
    0x5950392a8c70 ---------A   01120  REM T-TTL STCK ASSTS; T5-TTL VAL OF TRNSCTNS;
    0x5950392ab140 ---------A   01130  REM W3-LRG CHNG; X1-SMLL CHNG(<$1); Z4,Z5,Z6-NYSE AVE.; Z(I)-TRNSCT
    0x5950392b0c00 ---------A   01140  DIM S(5),P(5),Z(5),C(5) 
    0x5950392b0c90 ---------A   01150  REM SLOPE OF MARKET TREND
    0x5950392b0f20 ---------A   01160  LET X=1
    0x5950392b1810 ---------A   01170  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392b1ae0 ---------A   01180  LET T5=0
    0x5950392b1db0 ---------A   01190  LET X9=0
    0x5950392b2080 ---------A   01200  LET N1=0
    0x5950392b2350 ---------A   01210  LET N2=0
    0x5950392b2620 ---------A   01220  LET E1=0
    0x5950392b28f0 ---------A   01230  LET E2=0
    0x5950392b2960 ---------A   01240  REM INTRODUCTION 
    0x5950392b2b40 ---------A   01250  PRINT "DO YOU WANT THE INSTRUCTIONS (YES-TYPE 1, NO-TYPE 0)"; 
    0x5950392b2d60 ---------A   01260  INPUT Z9
    0x5950392b2de0 ---------A   01270  PRINT 
    0x5950392b2e60 ---------A   01280  PRINT 
    0x5950392b30f0 ---------A   01290  IF Z9<1 THEN 1460
    0x5950392b32b0 ---------A   01300  PRINT "THIS PROGRAM PLAYS THE STOCK MARKET.  YOU WILL BE GIVEN" 
    0x5950392b3470 ---------A   01310  PRINT "$10,000 AND MAY BUY OR SELL STOCKS.  THE STOCK PRICES WILL"
    0x5950392b3630 ---------A   01320  PRINT "BE GENERATED RANDOMLY AND THEREFORE THIS MODEL DOES NOT" 
    0x5950392b37f0 ---------A   01330  PRINT "REPRESENT EXACTLY WHAT HAPPENS ON THE EXCHANGE.  A TABLE"
    0x5950392b39b0 ---------A   01340  PRINT "OF AVAILABLE STOCKS, THEIR PRICES, AND THE NUMBER OF SHARES"
    0x5950392b3d80 ---------A   01350  PRINT "IN YOUR PORTFOLIO WILL BE PRINTED.  FOLLOWING THIS, THE" 
    0x5950392b3f40 ---------A   01360  PRINT "INITIALS OF EACH STOCK WILL BE PRINTED WITH A QUESTION"
    0x5950392b4100 ---------A   01370  PRINT "MARK.  HERE YOU INDICATE A TRANSACTION.  TO BUY A STOCK" 
    0x5950392b42e0 ---------A   01380  PRINT "TYPE +NNN, TO SELL A STOCK TYPE -NNN, WHERE NNN IS THE"  
    0x5950392b44a0 ---------A   01390  PRINT "NUMBER OF SHARES.  A BROKERAGE FEE OF 1% WILL BE CHARGED"
    0x5950392b4660 ---------A   01400  PRINT "ON ALL TRANSACTIONS.  NOTE THAT IF A STOCK'S VALUE DROPS"
    0x5950392b4820 ---------A   01410  PRINT "TO ZERO IT MAY REBOUND TO A POSITIVE VALUE AGAIN.  YOU"
    0x5950392b49e0 ---------A   01420  PRINT "HAVE $10,000 TO INVEST.  USE INTEGERS FOR ALL YOUR INPUTS."
    0x5950392b4b70 ---------A   01430  PRINT "(NOTE:  TO GET A 'FEEL' FOR THE MARKET RUN FOR AT LEAST" 
    0x5950392b4cb0 ---------A   01440  PRINT "10 DAYS)"
    0x5950392b4e30 ---------A   01450  PRINT "-----GOOD LUCK!-----"
    0x5950392b4ed0 ---------A T 01460  REM GENERATION OF STOCK TABLE; INPUT REQUESTS  
    0x5950392b4f20 ---------A   01470  REM INITIAL STOCK VALUES 
    0x5950392b5210 ---------A   01480  LET S(1)=100
    0x5950392b54e0 ---------A   01490  LET S(2)=85 
    0x5950392b57b0 ---------A   01500  LET S(3)=150
    0x5950392b5a80 ---------A   01510  LET S(4)=140
    0x5950392b5d70 ---------A   01520  LET S(5)=110
    0x5950392b5e00 ---------A   01530  REM INITIAL T8 - # DAYS FOR FIRST TREND SLOPE (A)
    0x5950392b64d0 ---------A   01540  LET T8=INT(4.99*RND(X)+1) 
    0x5950392b6560 ---------A   01550  REM RANDOMIZE SIGN OF FIRST TREND SLOPE (A)
    0x5950392b68c0 ---------A   01560  IF RND(X)>.5 THEN 1580 
    0x5950392b6b10 ---------A   01570  LET A=-A
    0x5950392b6b90 ---------A T 01580  REM RANDOMIZE INITIAL VALUES 
    0x5950392b6c30 ---------A   01590  GOSUB 2690 
    0x5950392b6cb0 ---------A   01600  REM INITIAL PORTFOLIO CONTENTS 
    0x5950392b7060 ---------A   01610  FOR I=1 TO 5
    0x5950392b7360 ---------A   01620  LET P(I)=0
    0x5950392b7650 ---------A   01630  LET Z(I)=0
    0x5950392b7780 ---------A   01640  NEXT I
    0x5950392b7810 ---------A   01650  PRINT 
    0x5950392b78a0 ---------A   01660  PRINT 
    0x5950392b7d40 ---------A   01670  REM INITIALIZE CASH ASSETS
    0x5950392b7f80 ---------A   01680  LET C=10000 
    0x5950392b8000 ---------A   01690  REM PRINT INITIAL PORTFOLIO
    0x5950392b84b0 ---------A   01700  PRINT "STOCK"," ","INITIALS","PRICE/SHARE"
    0x5950392b8900 ---------A   01710  PRINT "INT. BALLISTIC MISSILES","  IBM",S(1)
    0x5950392b8d40 ---------A   01720  PRINT "RED CROSS OF AMERICA","  RCA",S(2) 
    0x5950392b9190 ---------A   01730  PRINT "LICHTENSTEIN, BUMRAP & JOKE","  LBJ",S(3)
    0x5950392b95d0 ---------A   01740  PRINT "AMERICAN BANKRUPT CO.","  ABC",S(4)
    0x5950392b99f0 ---------A   01750  PRINT "CENSURED BOOKS STORE","  CBS",S(5) 
    0x5950392b9a90 ---------A T 01760  PRINT 
    0x5950392b9b30 ---------A   01770  REM NYSE AVERAGE
    0x5950392b9f00 ---------A   01780  LET Z4=Z5 
    0x5950392ba110 ---------A   01790  LET Z5=0
    0x5950392ba3e0 ---------A   01800  LET T=0 
    0x5950392ba6b0 ---------A   01810  FOR I=1 TO 5
    0x5950392baaf0 ---------A   01820  LET Z5=Z5+S(I)
    0x5950392bb120 ---------A   01830  LET T=T+S(I)*P(I) 
    0x5950392bb250 ---------A   01840  NEXT I
    0x5950392bb9e0 ---------A   01850  LET Z5=INT(100*(Z5/5)+.5)/100 
    0x5950392bc210 ---------A   01860  LET Z6=INT((Z5-Z4)*100+.5)/100
    0x5950392bc280 ---------A   01870  REM TOTAL ASSETS
    0x5950392bc6b0 ---------A   01880  LET D=T+C 
    0x5950392bc920 ---------A   01890  IF X9>0 THEN 1920
    0x5950392bcb90 ---------A   01900  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5 
    0x5950392bcc40 ---------A   01910  GOTO 1930 
    0x5950392bd0a0 ---------A T 01920  PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5"NET CHANGE"Z6
    0x5950392bd130 ---------A T 01930  PRINT 
    0x5950392bd770 ---------A   01940  LET T=INT(100*T+.5)/100 
    0x5950392bd9e0 ---------A   01950  PRINT "TOTAL STOCK ASSETS ARE   $";T
    0x5950392be020 ---------A   01960  LET C=INT(100*C+.5)/100 
    0x5950392be290 ---------A   01970  PRINT "TOTAL CASH ASSETS ARE    $";C
    0x5950392be8d0 ---------A   01980  LET D=INT(100*D+.5)/100 
    0x5950392beb30 ---------A   01990  PRINT "TOTAL ASSETS ARE         $";D
    0x5950392bebb0 ---------A   02000  PRINT 
    0x5950392bee40 ---------A   02010  IF X9=0 THEN 2050
    0x5950392befe0 ---------A   02020  PRINT "DO YOU WISH TO CONTINUE (YES-TYPE 1, NO-TYPE 0)";
    0x5950392bf200 ---------A   02030  INPUT Q9
    0x5950392bf470 ---------A   02040  IF Q9<1 THEN 2660
    0x5950392bf4f0 ---------A T 02050  REM INPUT TRANSACTIONS 
    0x5950392bf690 ---------A T 02060  PRINT "WHAT IS YOUR TRANSACTION IN" 
    0x5950392bf810 ---------A   02070  PRINT "IBM";
    0x5950392bfa30 ---------A   02080  INPUT Z(1)
    0x5950392bfbb0 ---------A   02090  PRINT "RCA";
    0x5950392bfdd0 ---------A   02100  INPUT Z(2)
    0x5950392bff50 ---------A   02110  PRINT "LBJ";
    0x5950392c0170 ---------A   02120  INPUT Z(3)
    0x5950392c02f0 ---------A   02130  PRINT "ABC";
    0x5950392c0510 ---------A   02140  INPUT Z(4)
    0x5950392c0690 ---------A   02150  PRINT "CBS";
    0x5950392c08b0 ---------A   02160  INPUT Z(5)
    0x5950392c0940 ---------A   02170  PRINT 
    0x5950392c09d0 ---------A   02180  REM TOTAL DAY'S PURCHASES IN $
    0x5950392c0cd0 ---------A   02190  LET P5=0
    0x5950392c0d50 ---------A   02200  REM TOTAL DAY'S SALES IN $
    0x5950392c1040 ---------A   02210  LET S5=0
    0x5950392c1320 ---------A   02220  FOR I=1 TO 5
    0x5950392c1910 ---------A   02230  LET Z(I)=INT(Z(I)+.5) 
    0x5950392c1c50 ---------A   02240  IF Z(I)<=0 THEN 2270 
    0x5950392c2290 ---------A   02250  LET P5=P5+Z(I)*S(I) 
    0x5950392c2310 ---------A   02260  GOTO 2310 
    0x5950392c2950 ---------A T 02270  LET S5=S5-Z(I)*S(I) 
    0x5950392c2da0 ---------A   02280  IF -Z(I)<=P(I) THEN 2310 
    0x5950392c2f10 ---------A   02290  PRINT "YOU HAVE OVERSOLD A STOCK; TRY AGAIN." 
    0x5950392c2f90 ---------A   02300  GOTO 2060 
    0x5950392c38d0 ---------A T 02310  NEXT I
    0x5950392c3980 ---------A   02320  REM TOTAL VALUE OF TRANSACTIONS
    0x5950392c3d00 ---------A   02330  LET T5=P5+S5
    0x5950392c3d70 ---------A   02340  REM BROKERAGE FEE
    0x5950392c4590 ---------A   02350  LET B5=INT(.01*T5*100+.5)/100 
    0x5950392c4620 ---------A   02360  REM CASH ASSETS=OLD CASH ASSETS-TOTAL PURCHASES
    0x5950392c46d0 ---------A   02370  REM -BROKERAGE FEES+TOTAL SALES
    0x5950392c4d40 ---------A   02380  LET C5=C-P5-B5+S5 
    0x5950392c4fb0 ---------A   02390  IF C5>=0 THEN 2420 
    0x5950392c5310 ---------A   02400  PRINT "YOU HAVE USED $";-C5;" MORE THAN YOU HAVE." 
    0x5950392c5390 ---------A   02410  GOTO 2060
    0x5950392c55d0 ---------A T 02420  LET C=C5
    0x5950392c5650 ---------A   02430  REM CALCULATE NEW PORTFOLIO  
    0x5950392c5940 ---------A   02440  FOR I=1 TO 5
    0x5950392c5f40 ---------A   02450  LET P(I)=P(I)+Z(I)
    0x5950392c6070 ---------A   02460  NEXT I
    0x5950392c6120 ---------A   02470  REM CALCULATE NEW STOCK VALUES 
    0x5950392c61b0 ---------A   02480  GOSUB 2690 
    0x5950392c6220 ---------A   02490  REM PRINT PORTFOLIO
    0x5950392c62f0 ---------A   02500  REM BELL RINGING-DIFFERENT ON MANY COMPUTERS 
    0x5950392c63b0 ---------A   02510  PRINT 
    0x5950392c6530 ---------A   02520  PRINT "**********     END OF DAY'S TRADING     **********"
    0x5950392c65b0 ---------A   02530  PRINT 
    0x5950392c6630 ---------A   02540  PRINT 
    0x5950392c68c0 ---------A   02550  IF X9<1 THEN 2560
    0x5950392c6e40 ---------A T 02560  PRINT "STOCK","PRICE/SHARE","HOLDINGS", "VALUE", "NET PRICE CHANGE"
    0x5950392c78a0 ---------A   02570  PRINT "IBM", S(1), P(1), S(1)*P(1), C(1)
    0x5950392c8300 ---------A   02580  PRINT "RCA", S(2), P(2), S(2)*P(2), C(2)
    0x5950392c8d60 ---------A   02590  PRINT "LBJ", S(3), P(3), S(3)*P(3), C(3)
    0x5950392c97c0 ---------A   02600  PRINT "ABC", S(4), P(4), S(4)*P(4), C(4)
    0x5950392ca200 ---------A   02610  PRINT "CBS", S(5), P(5), S(5)*P(5), C(5)
    0x5950392ca420 ---------A   02620  LET X9=1
    0x5950392ca490 ---------A   02630  PRINT 
    0x5950392ca510 ---------A   02640  PRINT 
    0x5950392ca5a0 ---------A   02650  GOTO 1760 
    0x5950392d5db0 ---------A T 02660  PRINT "HOPE YOU HAD FUN!!"
    0x5950392d5e10 ---------A   02670  END
    0x5950392ca620 ---------B   02680  REM NEW STOCK VALUES - SUBROUTINE
    0x5950392ca700 ---------B G 02690  REM RANDOMLY PRODUCE NEW STOCK VALUES BASED ON PREVIOUS
    0x5950392ca790 ---------B   02700  REM DAY'S VALUES 
    0x5950392ca870 ---------B   02710  REM N1,N2 ARE RANDOM NUMBERS OF DAYS WHICH RESPECTIVELY
    0x5950392ca960 ---------B   02720  REM DETERMINE WHEN STOCK I1 WILL INCREASE 10 PTS. AND STOCK
    0x5950392caa10 ---------B   02730  REM I2 WILL DECREASE 10 PTS. 
    0x5950392cab00 ---------B   02740  REM IF N1 DAYS HAVE PASSED, PICK AN I1, SET E1, DETERMINE NEW N1 
    0x5950392cad80 ---------B   02750  IF N1>0 THEN 2790
    0x5950392cb450 ---------B   02760  LET I1=INT(4.99*RND(X)+1) 
    0x5950392cba40 ---------B   02770  LET N1=INT(4.99*RND(X)+1) 
    0x5950392cbc80 ---------B   02780  LET E1=1
    0x5950392cbd20 ---------B T 02790  REM IF N2 DAYS HAVE PASSED, PICK AN I2, SET E2, DETERMINE NEW N2 
    0x5950392cbfa0 ---------B   02800  IF N2>0 THEN 2840
    0x5950392cc670 ---------B   02810  LET I2=INT(4.99*RND(X)+1) 
    0x5950392ccc60 ---------B   02820  LET N2=INT(4.99*RND(X)+1) 
    0x5950392cce80 ---------B   02830  LET E2=1
    0x5950392ccf00 ---------B T 02840  REM DEDUCT ONE DAY FROM N1 AND N2
    0x5950392cd250 ---------B   02850  LET N1=N1-1 
    0x5950392cd590 ---------B   02860  LET N2=N2-1 
    0x5950392cd610 ---------B   02870  REM LOOP THROUGH ALL STOCKS
    0x5950392cd900 ---------B   02880  FOR I=1 TO 5
    0x5950392cdce0 ---------B   02890  LET X1=RND(X) 
    0x5950392cdf30 ---------B   02900  IF X1>.25 THEN 2930
    0x5950392ce150 ---------B   02910  LET X1=.25
    0x5950392ce1c0 ---------B   02920  GOTO 3010 
    0x5950392ce410 ---------B T 02930  IF X1>.5 THEN 2960
    0x5950392ce630 ---------B   02940  LET X1=.5
    0x5950392ce6a0 ---------B   02950  GOTO 3010 
    0x5950392ce8f0 ---------B T 02960  IF X1>.75 THEN 2990
    0x5950392ceb10 ---------B   02970  LET X1=.75  
    0x5950392ceb80 ---------B   02980  GOTO 3010 
    0x5950392cedb0 ---------B T 02990  LET X1=0.0
    0x5950392cee40 ---------B   03000  REM BIG CHANGE CONSTANT
    0x5950392cf130 ---------B T 03010  LET W3=0
    0x5950392cf390 ---------B   03020  IF E1<1 THEN 3070
    0x5950392cf9f0 ---------B   03030  IF INT(I1+.5)<>INT(I+.5) THEN 3070 
    0x5950392cfa90 ---------B   03040  REM ADD 10 PTS. TO THIS STOCK;  RESET E1 
    0x5950392cfcc0 ---------B   03050  LET W3=10 
    0x5950392cfed0 ---------B   03060  LET E1=0
    0x5950392d0130 ---------B T 03070  IF E2<1 THEN 3130
    0x5950392d0790 ---------B   03080  IF INT(I2+.5)<>INT(I+.5) THEN 3130 
    0x5950392d0830 ---------B   03090  REM SUBTRACT 10 PTS. FROM THIS STOCK;  RESET E2
    0x5950392d0b80 ---------B   03100  LET W3=W3-10
    0x5950392d0da0 ---------B   03110  LET E2=0
    0x5950392d0e20 ---------B   03120  REM C(I) IS CHANGE IN STOCK VALUE
    0x5950392d1c80 ---------B T 03130  LET C(I)=INT(A*S(I))+X1+INT(3-6*RND(X)+.5)+W3 
    0x5950392d2450 ---------B   03140  LET C(I)=INT(100*C(I)+.5)/100 
    0x5950392d2a40 ---------B   03150  LET S(I)=S(I)+C(I)
    0x5950392d2d70 ---------B   03160  IF S(I)>0 THEN 3200
    0x5950392d3070 ---------B   03170  LET C(I)=0
    0x5950392d3360 ---------B   03180  LET S(I)=0
    0x5950392d33e0 ---------B   03190  GOTO 3210 
    0x5950392d3bb0 ---------B T 03200  LET S(I)=INT(100*S(I)+.5)/100 
    0x5950392d3ce0 ---------B T 03210  NEXT I
    0x5950392d3dc0 ---------B   03220  REM AFTER T8 DAYS RANDOMLY CHANGE TREND SIGN AND SLOPE 
    0x5950392d4110 ---------B   03230  LET T8=T8-1 
    0x5950392d4360 ---------B   03240  IF T8<1 THEN 3260
    0x5950392d6550 ---------B   03250  GOTO 03340
    0x5950392d44a0 ---------B T 03260  REM RANDOMLY CHANGE TREND SIGN AND SLOPE (A), AND DURATION 
    0x5950392d4530 ---------B   03270  REM OF TREND (T8)
    0x5950392d4b60 ---------B   03280  LET T8=INT(4.99*RND(X)+1) 
    0x5950392d5390 ---------B   03290  LET A=INT((RND(X)/10)*100+.5)/100 
    0x5950392d5760 ---------B   03300  LET S4=RND(X) 
    0x5950392d59b0 ---------B   03310  IF S4<=.5 THEN 3330
    0x5950392d5bf0 ---------B   03320  LET A=-A
    0x5950392da960 ---------B T 03330  GOTO 03340
    0x5950392e8c60 ---------B T 03340  RETURN
 */

//---------------------------------------------------------------------------
// $Header$ 
//
// NOTE: This program has been automatically tranlated by b2c
//
// $Log$ 
// 
//---------------------------------------------------------------------------
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <errno.h>
//---------------------------------------------------------------------------
// Global data area.
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------




typedef enum {TYPE_None,TYPE_Integer,TYPE_Float,TYPE_String}t_type;
typedef struct{
    int    LineNum;
    int    Size;
    char** SData;
}t_data;
t_data ProgramData[] = {
    {    0,  0,nullptr       }
};

#include "intrinsics.h"


//---------------------------------------------------------------------------
// Global variable area.
//
// NOTE: Variable names are long to allow for easy editing.
//---------------------------------------------------------------------------
int    A_int;                                     // Basic: A 
int    B5_int;                                    // Basic: B5 
int    C_int_arr[5];                              // Basic: C 
int    C5_int;                                    // Basic: C5 
int    D_int;                                     // Basic: D 
int    E1_int;                                    // Basic: E1 
int    E2_int;                                    // Basic: E2 
int    I_int;                                     // Basic: I 
int    I1_int;                                    // Basic: I1 
int    I2_int;                                    // Basic: I2 
int    N1_int;                                    // Basic: N1 
int    N2_int;                                    // Basic: N2 
int    P_int_arr[5];                              // Basic: P 
int    P5_int;                                    // Basic: P5 
int    Q9_int;                                    // Basic: Q9 
int    S_int_arr[5];                              // Basic: S 
int    S4_int;                                    // Basic: S4 
int    S5_int;                                    // Basic: S5 
int    T_int;                                     // Basic: T 
int    T5_int;                                    // Basic: T5 
int    T8_int;                                    // Basic: T8 
int    W3_int;                                    // Basic: W3 
int    X_int;                                     // Basic: X 
int    X1_int;                                    // Basic: X1 
int    X9_int;                                    // Basic: X9 
int    Z_int_arr[5];                              // Basic: Z 
int    Z4_int;                                    // Basic: Z4 
int    Z5_int;                                    // Basic: Z5 
int    Z6_int;                                    // Basic: Z6 
int    Z9_int;                                    // Basic: Z9 
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
char* GLBpStr=nullptr;
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
// Subroutine Prototypes.
//---------------------------------------------------------------------------
void Routine_02690();

//---------------------------------------------------------------------------
// Program Functions.
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
// Common area load and store routines.
//---------------------------------------------------------------------------
// void  LoadCommonAreas(char* filename){
//     json_error_t error;
// 
//     // Read in the COMMON area save-file
//     json_t *root = json_load_file(filename, 0, &error);
//     if (!root) {
//         fprintf(stderr, "Error reading JSON file: %s\n",error.text);
//         return;
//     }
// 
//     // Get the number of variables read.
//     int count = json_array_size(root);
// 
//     // Read in each variable and store it...
//     for(int v=0;v<count;v++){
// 
//     }
// 
//     // Get rid of storage area
//     json_decref(root);
// };
// void  SaveCommonAreas(char* file){
// };
//---------------------------------------------------------------------------
// Program Subroutines.
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
// Routine B
//---------------------------------------------------------------------------
    // 02680 REM NEW STOCK VALUES - SUBROUTINE

void Routine_02690(){
    // 02690 REM RANDOMLY PRODUCE NEW STOCK VALUES BASED ON PREVIOUS
    // 02700 REM DAY'S VALUES 
    // 02710 REM N1,N2 ARE RANDOM NUMBERS OF DAYS WHICH RESPECTIVELY
    // 02720 REM DETERMINE WHEN STOCK I1 WILL INCREASE 10 PTS. AND STOCK
    // 02730 REM I2 WILL DECREASE 10 PTS. 
    // 02740 REM IF N1 DAYS HAVE PASSED, PICK AN I1, SET E1, DETERMINE NEW N1 
    // 02750 IF N1>0 THEN 2790
    if(N1_int>0)goto Lbl_02790;
    // 02760 LET I1=INT(4.99*RND(X)+1) 
    I1_int = INT(4.99*RND(X_int)+1);
    // 02770 LET N1=INT(4.99*RND(X)+1) 
    N1_int = INT(4.99*RND(X_int)+1);
    // 02780 LET E1=1
    E1_int = 1;

  Lbl_02790:
    // 02790 REM IF N2 DAYS HAVE PASSED, PICK AN I2, SET E2, DETERMINE NEW N2 
    // 02800 IF N2>0 THEN 2840
    if(N2_int>0)goto Lbl_02840;
    // 02810 LET I2=INT(4.99*RND(X)+1) 
    I2_int = INT(4.99*RND(X_int)+1);
    // 02820 LET N2=INT(4.99*RND(X)+1) 
    N2_int = INT(4.99*RND(X_int)+1);
    // 02830 LET E2=1
    E2_int = 1;

  Lbl_02840:
    // 02840 REM DEDUCT ONE DAY FROM N1 AND N2
    // 02850 LET N1=N1-1 
    N1_int = N1_int-1;
    // 02860 LET N2=N2-1 
    N2_int = N2_int-1;
    // 02870 REM LOOP THROUGH ALL STOCKS
    // 02880 FOR I=1 TO 5
    for(I_int=1;I_int<=5;I_int++){
        // 02890 LET X1=RND(X) 
        X1_int = RND(X_int);
        // 02900 IF X1>.25 THEN 2930
        if(X1_int>0.25)goto Lbl_02930;
        // 02910 LET X1=.25
        X1_int = 0.25;
        // 02920 GOTO 3010 
        goto Lbl_03010;

  Lbl_02930:
        // 02930 IF X1>.5 THEN 2960
        if(X1_int>0.5)goto Lbl_02960;
        // 02940 LET X1=.5
        X1_int = 0.5;
        // 02950 GOTO 3010 
        goto Lbl_03010;

  Lbl_02960:
        // 02960 IF X1>.75 THEN 2990
        if(X1_int>0.75)goto Lbl_02990;
        // 02970 LET X1=.75  
        X1_int = 0.75;
        // 02980 GOTO 3010 
        goto Lbl_03010;

  Lbl_02990:
        // 02990 LET X1=0.0
        X1_int = 0.;
        // 03000 REM BIG CHANGE CONSTANT

  Lbl_03010:
        // 03010 LET W3=0
        W3_int = 0;
        // 03020 IF E1<1 THEN 3070
        if(E1_int<1)goto Lbl_03070;
        // 03030 IF INT(I1+.5)<>INT(I+.5) THEN 3070 
        if(INT(I1_int+0.5)!=INT(I_int+0.5))goto Lbl_03070;
        // 03040 REM ADD 10 PTS. TO THIS STOCK;  RESET E1 
        // 03050 LET W3=10 
        W3_int = 10;
        // 03060 LET E1=0
        E1_int = 0;

  Lbl_03070:
        // 03070 IF E2<1 THEN 3130
        if(E2_int<1)goto Lbl_03130;
        // 03080 IF INT(I2+.5)<>INT(I+.5) THEN 3130 
        if(INT(I2_int+0.5)!=INT(I_int+0.5))goto Lbl_03130;
        // 03090 REM SUBTRACT 10 PTS. FROM THIS STOCK;  RESET E2
        // 03100 LET W3=W3-10
        W3_int = W3_int-10;
        // 03110 LET E2=0
        E2_int = 0;
        // 03120 REM C(I) IS CHANGE IN STOCK VALUE

  Lbl_03130:
        // 03130 LET C(I)=INT(A*S(I))+X1+INT(3-6*RND(X)+.5)+W3 
        C_int_arr[I_int] = INT(A_int*S_int_arr[I_int])+X1_int+INT(3-6*RND(X_int)+0.5)+W3_int;
        // 03140 LET C(I)=INT(100*C(I)+.5)/100 
        C_int_arr[I_int] = INT(100*C_int_arr[I_int]+0.5)/100;
        // 03150 LET S(I)=S(I)+C(I)
        S_int_arr[I_int] = S_int_arr[I_int]+C_int_arr[I_int];
        // 03160 IF S(I)>0 THEN 3200
        if(S_int_arr[I_int]>0)goto Lbl_03200;
        // 03170 LET C(I)=0
        C_int_arr[I_int] = 0;
        // 03180 LET S(I)=0
        S_int_arr[I_int] = 0;
        // 03190 GOTO 3210 
        goto Lbl_03210;

  Lbl_03200:
        // 03200 LET S(I)=INT(100*S(I)+.5)/100 
        S_int_arr[I_int] = INT(100*S_int_arr[I_int]+0.5)/100;

  Lbl_03210:
        // 03210 NEXT I
        int dummy_3210=0; // Ignore this line.
    }; // End-For(I_int)
    // 03220 REM AFTER T8 DAYS RANDOMLY CHANGE TREND SIGN AND SLOPE 
    // 03230 LET T8=T8-1 
    T8_int = T8_int-1;
    // 03240 IF T8<1 THEN 3260
    if(T8_int<1)goto Lbl_03260;
    // 03250 GOTO 03340
    goto Lbl_03340;

  Lbl_03260:
    // 03260 REM RANDOMLY CHANGE TREND SIGN AND SLOPE (A), AND DURATION 
    // 03270 REM OF TREND (T8)
    // 03280 LET T8=INT(4.99*RND(X)+1) 
    T8_int = INT(4.99*RND(X_int)+1);
    // 03290 LET A=INT((RND(X)/10)*100+.5)/100 
    A_int = INT((RND(X_int)/10)*100+0.5)/100;
    // 03300 LET S4=RND(X) 
    S4_int = RND(X_int);
    // 03310 IF S4<=.5 THEN 3330
    if(S4_int<=0.5)goto Lbl_03330;
    // 03320 LET A=-A
    A_int = A_int;

  Lbl_03330:
    // 03330 GOTO 03340
    goto Lbl_03340;

  Lbl_03340:
    // 03340 RETURN
    return;
};

//---------------------------------------------------------------------------
// Main Program.
//---------------------------------------------------------------------------
#pragma argsused
int main(int argc,char *argv[])
{
    // 01000 PRINT TAB(30);"STOCK MARKET"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);b2c_TAB(buf,30);strcat(buf,"STOCK MARKET");strcat(buf,"\n");fputs(buf,fh); };
    // 01010 PRINT TAB(15);"CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);b2c_TAB(buf,15);strcat(buf,"CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY");strcat(buf,"\n");fputs(buf,fh); };
    // 01020 PRINT
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01030 PRINT
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01040 PRINT
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01050 REM STOCK MARKET SIMULATION     -STOCK-
    // 01060 REM REVISED 8/18/70 (D. PESSEL, L. BRAUN, C. LOSIK)  
    // 01070 REM IMP VRBLS
    // 01080 REM C5-TTL CSH ASSTS (TEMP); C(I)-CHNG IN STK VAL; D-TTL ASSTS;
    // 01090 REM E1,E2-LRG CHNG MISC; I-STCK #; I1,I2-STCKS W LRG CHNG; 
    // 01100 REM N1,N2-LRG CHNG DAY CNTS; P5-TTL DAYS PRCHSS; P(I)-PRTFL CNTNTS;
    // 01110 REM Q9-NEW CYCL?; S4-SGN OF A; S5-TTL DYS SLS; S(I)-VALUE/SHR; 
    // 01120 REM T-TTL STCK ASSTS; T5-TTL VAL OF TRNSCTNS;
    // 01130 REM W3-LRG CHNG; X1-SMLL CHNG(<$1); Z4,Z5,Z6-NYSE AVE.; Z(I)-TRNSCT
    // 01140 DIM S(5),P(5),Z(5),C(5) 
    // 01150 REM SLOPE OF MARKET TREND
    // 01160 LET X=1
    X_int = 1;
    // 01170 LET A=INT((RND(X)/10)*100+.5)/100 
    A_int = INT((RND(X_int)/10)*100+0.5)/100;
    // 01180 LET T5=0
    T5_int = 0;
    // 01190 LET X9=0
    X9_int = 0;
    // 01200 LET N1=0
    N1_int = 0;
    // 01210 LET N2=0
    N2_int = 0;
    // 01220 LET E1=0
    E1_int = 0;
    // 01230 LET E2=0
    E2_int = 0;
    // 01240 REM INTRODUCTION 
    // 01250 PRINT "DO YOU WANT THE INSTRUCTIONS (YES-TYPE 1, NO-TYPE 0)"; 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"DO YOU WANT THE INSTRUCTIONS (YES-TYPE 1, NO-TYPE 0)");fputs(buf,fh); };
    // 01260 INPUT Z9
    // Start of Basic INPUT statement 01260
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Z9_int,args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 01260
    // 01270 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01280 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01290 IF Z9<1 THEN 1460
    if(Z9_int<1)goto Lbl_01460;
    // 01300 PRINT "THIS PROGRAM PLAYS THE STOCK MARKET.  YOU WILL BE GIVEN" 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"THIS PROGRAM PLAYS THE STOCK MARKET.  YOU WILL BE GIVEN");strcat(buf,"\n");fputs(buf,fh); };
    // 01310 PRINT "$10,000 AND MAY BUY OR SELL STOCKS.  THE STOCK PRICES WILL"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"$10,000 AND MAY BUY OR SELL STOCKS.  THE STOCK PRICES WILL");strcat(buf,"\n");fputs(buf,fh); };
    // 01320 PRINT "BE GENERATED RANDOMLY AND THEREFORE THIS MODEL DOES NOT" 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"BE GENERATED RANDOMLY AND THEREFORE THIS MODEL DOES NOT");strcat(buf,"\n");fputs(buf,fh); };
    // 01330 PRINT "REPRESENT EXACTLY WHAT HAPPENS ON THE EXCHANGE.  A TABLE"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"REPRESENT EXACTLY WHAT HAPPENS ON THE EXCHANGE.  A TABLE");strcat(buf,"\n");fputs(buf,fh); };
    // 01340 PRINT "OF AVAILABLE STOCKS, THEIR PRICES, AND THE NUMBER OF SHARES"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"OF AVAILABLE STOCKS, THEIR PRICES, AND THE NUMBER OF SHARES");strcat(buf,"\n");fputs(buf,fh); };
    // 01350 PRINT "IN YOUR PORTFOLIO WILL BE PRINTED.  FOLLOWING THIS, THE" 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"IN YOUR PORTFOLIO WILL BE PRINTED.  FOLLOWING THIS, THE");strcat(buf,"\n");fputs(buf,fh); };
    // 01360 PRINT "INITIALS OF EACH STOCK WILL BE PRINTED WITH A QUESTION"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"INITIALS OF EACH STOCK WILL BE PRINTED WITH A QUESTION");strcat(buf,"\n");fputs(buf,fh); };
    // 01370 PRINT "MARK.  HERE YOU INDICATE A TRANSACTION.  TO BUY A STOCK" 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"MARK.  HERE YOU INDICATE A TRANSACTION.  TO BUY A STOCK");strcat(buf,"\n");fputs(buf,fh); };
    // 01380 PRINT "TYPE +NNN, TO SELL A STOCK TYPE -NNN, WHERE NNN IS THE"  
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"TYPE +NNN, TO SELL A STOCK TYPE -NNN, WHERE NNN IS THE");fputs(buf,fh); };
    // 01390 PRINT "NUMBER OF SHARES.  A BROKERAGE FEE OF 1% WILL BE CHARGED"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"NUMBER OF SHARES.  A BROKERAGE FEE OF 1%% WILL BE CHARGED");strcat(buf,"\n");fputs(buf,fh); };
    // 01400 PRINT "ON ALL TRANSACTIONS.  NOTE THAT IF A STOCK'S VALUE DROPS"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"ON ALL TRANSACTIONS.  NOTE THAT IF A STOCK'S VALUE DROPS");strcat(buf,"\n");fputs(buf,fh); };
    // 01410 PRINT "TO ZERO IT MAY REBOUND TO A POSITIVE VALUE AGAIN.  YOU"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"TO ZERO IT MAY REBOUND TO A POSITIVE VALUE AGAIN.  YOU");strcat(buf,"\n");fputs(buf,fh); };
    // 01420 PRINT "HAVE $10,000 TO INVEST.  USE INTEGERS FOR ALL YOUR INPUTS."
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"HAVE $10,000 TO INVEST.  USE INTEGERS FOR ALL YOUR INPUTS.");strcat(buf,"\n");fputs(buf,fh); };
    // 01430 PRINT "(NOTE:  TO GET A 'FEEL' FOR THE MARKET RUN FOR AT LEAST" 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"(NOTE:  TO GET A 'FEEL' FOR THE MARKET RUN FOR AT LEAST");strcat(buf,"\n");fputs(buf,fh); };
    // 01440 PRINT "10 DAYS)"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"10 DAYS)");strcat(buf,"\n");fputs(buf,fh); };
    // 01450 PRINT "-----GOOD LUCK!-----"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"-----GOOD LUCK!-----");strcat(buf,"\n");fputs(buf,fh); };

  Lbl_01460:
    // 01460 REM GENERATION OF STOCK TABLE; INPUT REQUESTS  
    // 01470 REM INITIAL STOCK VALUES 
    // 01480 LET S(1)=100
    S_int_arr[1] = 100;
    // 01490 LET S(2)=85 
    S_int_arr[2] = 85;
    // 01500 LET S(3)=150
    S_int_arr[3] = 150;
    // 01510 LET S(4)=140
    S_int_arr[4] = 140;
    // 01520 LET S(5)=110
    S_int_arr[5] = 110;
    // 01530 REM INITIAL T8 - # DAYS FOR FIRST TREND SLOPE (A)
    // 01540 LET T8=INT(4.99*RND(X)+1) 
    T8_int = INT(4.99*RND(X_int)+1);
    // 01550 REM RANDOMIZE SIGN OF FIRST TREND SLOPE (A)
    // 01560 IF RND(X)>.5 THEN 1580 
    if(RND(X_int)>0.5)goto Lbl_01580;
    // 01570 LET A=-A
    A_int = A_int;

  Lbl_01580:
    // 01580 REM RANDOMIZE INITIAL VALUES 
    // 01590 GOSUB 2690 
    Routine_02690();
    // 01600 REM INITIAL PORTFOLIO CONTENTS 
    // 01610 FOR I=1 TO 5
    for(I_int=1;I_int<=5;I_int++){
        // 01620 LET P(I)=0
        P_int_arr[I_int] = 0;
        // 01630 LET Z(I)=0
        Z_int_arr[I_int] = 0;
        // 01640 NEXT I
        int dummy_1640=0; // Ignore this line.
    }; // End-For(I_int)
    // 01650 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01660 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01670 REM INITIALIZE CASH ASSETS
    // 01680 LET C=10000 
    C_int_arr[0] = 10000;
    // 01690 REM PRINT INITIAL PORTFOLIO
    // 01700 PRINT "STOCK"," ","INITIALS","PRICE/SHARE"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"STOCK");strcat(buf," ");strcat(buf,"INITIALS");strcat(buf,"PRICE/SHARE");strcat(buf,"\n");fputs(buf,fh); };
    // 01710 PRINT "INT. BALLISTIC MISSILES","  IBM",S(1)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"INT. BALLISTIC MISSILES");strcat(buf,"  IBM"); b2c_INT(buf,S_int_arr[1]);strcat(buf,"\n");fputs(buf,fh); };
    // 01720 PRINT "RED CROSS OF AMERICA","  RCA",S(2) 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"RED CROSS OF AMERICA");strcat(buf,"  RCA"); b2c_INT(buf,S_int_arr[2]);strcat(buf,"\n");fputs(buf,fh); };
    // 01730 PRINT "LICHTENSTEIN, BUMRAP & JOKE","  LBJ",S(3)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"LICHTENSTEIN, BUMRAP & JOKE");strcat(buf,"  LBJ"); b2c_INT(buf,S_int_arr[3]);strcat(buf,"\n");fputs(buf,fh); };
    // 01740 PRINT "AMERICAN BANKRUPT CO.","  ABC",S(4)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"AMERICAN BANKRUPT CO.");strcat(buf,"  ABC"); b2c_INT(buf,S_int_arr[4]);strcat(buf,"\n");fputs(buf,fh); };
    // 01750 PRINT "CENSURED BOOKS STORE","  CBS",S(5) 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"CENSURED BOOKS STORE");strcat(buf,"  CBS"); b2c_INT(buf,S_int_arr[5]);strcat(buf,"\n");fputs(buf,fh); };

  Lbl_01760:
    // 01760 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01770 REM NYSE AVERAGE
    // 01780 LET Z4=Z5 
    Z4_int = Z5_int;
    // 01790 LET Z5=0
    Z5_int = 0;
    // 01800 LET T=0 
    T_int = 0;
    // 01810 FOR I=1 TO 5
    for(I_int=1;I_int<=5;I_int++){
        // 01820 LET Z5=Z5+S(I)
        Z5_int = Z5_int+S_int_arr[I_int];
        // 01830 LET T=T+S(I)*P(I) 
        T_int = T_int+S_int_arr[I_int]*P_int_arr[I_int];
        // 01840 NEXT I
        int dummy_1840=0; // Ignore this line.
    }; // End-For(I_int)
    // 01850 LET Z5=INT(100*(Z5/5)+.5)/100 
    Z5_int = INT(100*(Z5_int/5)+0.5)/100;
    // 01860 LET Z6=INT((Z5-Z4)*100+.5)/100
    Z6_int = INT((Z5_int-Z4_int)*100+0.5)/100;
    // 01870 REM TOTAL ASSETS
    // 01880 LET D=T+C 
    D_int = T_int+C_int_arr[0];
    // 01890 IF X9>0 THEN 1920
    if(X9_int>0)goto Lbl_01920;
    // 01900 PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"NEW YORK STOCK EXCHANGE AVERAGE: "); b2c_INT(buf,Z5_int);strcat(buf,"\n");fputs(buf,fh); };
    // 01910 GOTO 1930 
    goto Lbl_01930;

  Lbl_01920:
    // 01920 PRINT "NEW YORK STOCK EXCHANGE AVERAGE: "Z5"NET CHANGE"Z6
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"NEW YORK STOCK EXCHANGE AVERAGE: "); b2c_INT(buf,Z5_int);strcat(buf,"NET CHANGE"); b2c_INT(buf,Z6_int);strcat(buf,"\n");fputs(buf,fh); };

  Lbl_01930:
    // 01930 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 01940 LET T=INT(100*T+.5)/100 
    T_int = INT(100*T_int+0.5)/100;
    // 01950 PRINT "TOTAL STOCK ASSETS ARE   $";T
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"TOTAL STOCK ASSETS ARE   $"); b2c_INT(buf,T_int);strcat(buf,"\n");fputs(buf,fh); };
    // 01960 LET C=INT(100*C+.5)/100 
    C_int_arr[0] = INT(100*C_int_arr[0]+0.5)/100;
    // 01970 PRINT "TOTAL CASH ASSETS ARE    $";C
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"TOTAL CASH ASSETS ARE    $"); b2c_INT(buf,C_int_arr[0]);strcat(buf,"\n");fputs(buf,fh); };
    // 01980 LET D=INT(100*D+.5)/100 
    D_int = INT(100*D_int+0.5)/100;
    // 01990 PRINT "TOTAL ASSETS ARE         $";D
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"TOTAL ASSETS ARE         $"); b2c_INT(buf,D_int);strcat(buf,"\n");fputs(buf,fh); };
    // 02000 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02010 IF X9=0 THEN 2050
    if(X9_int==0)goto Lbl_02050;
    // 02020 PRINT "DO YOU WISH TO CONTINUE (YES-TYPE 1, NO-TYPE 0)";
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"DO YOU WISH TO CONTINUE (YES-TYPE 1, NO-TYPE 0)");fputs(buf,fh); };
    // 02030 INPUT Q9
    // Start of Basic INPUT statement 02030
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Q9_int,args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 02030
    // 02040 IF Q9<1 THEN 2660
    if(Q9_int<1)goto Lbl_02660;

  Lbl_02050:
    // 02050 REM INPUT TRANSACTIONS 

  Lbl_02060:
    // 02060 PRINT "WHAT IS YOUR TRANSACTION IN" 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"WHAT IS YOUR TRANSACTION IN");strcat(buf,"\n");fputs(buf,fh); };
    // 02070 PRINT "IBM";
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"IBM");fputs(buf,fh); };
    // 02080 INPUT Z(1)
    // Start of Basic INPUT statement 02080
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Z_int_arr[1],args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 02080
    // 02090 PRINT "RCA";
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"RCA");fputs(buf,fh); };
    // 02100 INPUT Z(2)
    // Start of Basic INPUT statement 02100
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Z_int_arr[2],args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 02100
    // 02110 PRINT "LBJ";
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"LBJ");fputs(buf,fh); };
    // 02120 INPUT Z(3)
    // Start of Basic INPUT statement 02120
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Z_int_arr[3],args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 02120
    // 02130 PRINT "ABC";
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"ABC");fputs(buf,fh); };
    // 02140 INPUT Z(4)
    // Start of Basic INPUT statement 02140
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Z_int_arr[4],args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 02140
    // 02150 PRINT "CBS";
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"CBS");fputs(buf,fh); };
    // 02160 INPUT Z(5)
    // Start of Basic INPUT statement 02160
    {
        int numargs=1;
        char *args[numargs+1];
        bool echoeol=true;
        while(true){
            fprintf(stdout," ? ");
            int err=input(args,numargs,echoeol);
            if(err==0x03) break;
            if(err || 
                (err += b2c_strtoi(&Z_int_arr[5],args,0)) ){
                 printf("?Redo from start\n");
            }else{
                break;
            };
        };
    }; // End of Basic INPUT statement 02160
    // 02170 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02180 REM TOTAL DAY'S PURCHASES IN $
    // 02190 LET P5=0
    P5_int = 0;
    // 02200 REM TOTAL DAY'S SALES IN $
    // 02210 LET S5=0
    S5_int = 0;
    // 02220 FOR I=1 TO 5
    for(I_int=1;I_int<=5;I_int++){
        // 02230 LET Z(I)=INT(Z(I)+.5) 
        Z_int_arr[I_int] = INT(Z_int_arr[I_int]+0.5);
        // 02240 IF Z(I)<=0 THEN 2270 
        if(Z_int_arr[I_int]<=0)goto Lbl_02270;
        // 02250 LET P5=P5+Z(I)*S(I) 
        P5_int = P5_int+Z_int_arr[I_int]*S_int_arr[I_int];
        // 02260 GOTO 2310 
        goto Lbl_02310;

  Lbl_02270:
        // 02270 LET S5=S5-Z(I)*S(I) 
        S5_int = S5_int-Z_int_arr[I_int]*S_int_arr[I_int];
        // 02280 IF -Z(I)<=P(I) THEN 2310 
        if(-Z_int_arr[I_int]<=P_int_arr[I_int])goto Lbl_02310;
        // 02290 PRINT "YOU HAVE OVERSOLD A STOCK; TRY AGAIN." 
        { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"YOU HAVE OVERSOLD A STOCK; TRY AGAIN.");strcat(buf,"\n");fputs(buf,fh); };
        // 02300 GOTO 2060 
        goto Lbl_02060;

  Lbl_02310:
        // 02310 NEXT I
        int dummy_2310=0; // Ignore this line.
    }; // End-For(I_int)
    // 02320 REM TOTAL VALUE OF TRANSACTIONS
    // 02330 LET T5=P5+S5
    T5_int = P5_int+S5_int;
    // 02340 REM BROKERAGE FEE
    // 02350 LET B5=INT(.01*T5*100+.5)/100 
    B5_int = INT(0.01*T5_int*100+0.5)/100;
    // 02360 REM CASH ASSETS=OLD CASH ASSETS-TOTAL PURCHASES
    // 02370 REM -BROKERAGE FEES+TOTAL SALES
    // 02380 LET C5=C-P5-B5+S5 
    C5_int = C_int_arr[0]-P5_int-B5_int+S5_int;
    // 02390 IF C5>=0 THEN 2420 
    if(C5_int>=0)goto Lbl_02420;
    // 02400 PRINT "YOU HAVE USED $";-C5;" MORE THAN YOU HAVE." 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"YOU HAVE USED $"); b2c_INT(buf,C5_int);strcat(buf," MORE THAN YOU HAVE.");strcat(buf,"\n");fputs(buf,fh); };
    // 02410 GOTO 2060
    goto Lbl_02060;

  Lbl_02420:
    // 02420 LET C=C5
    C_int_arr[0] = C5_int;
    // 02430 REM CALCULATE NEW PORTFOLIO  
    // 02440 FOR I=1 TO 5
    for(I_int=1;I_int<=5;I_int++){
        // 02450 LET P(I)=P(I)+Z(I)
        P_int_arr[I_int] = P_int_arr[I_int]+Z_int_arr[I_int];
        // 02460 NEXT I
        int dummy_2460=0; // Ignore this line.
    }; // End-For(I_int)
    // 02470 REM CALCULATE NEW STOCK VALUES 
    // 02480 GOSUB 2690 
    Routine_02690();
    // 02490 REM PRINT PORTFOLIO
    // 02500 REM BELL RINGING-DIFFERENT ON MANY COMPUTERS 
    // 02510 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02520 PRINT "**********     END OF DAY'S TRADING     **********"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"**********     END OF DAY'S TRADING     **********");strcat(buf,"\n");fputs(buf,fh); };
    // 02530 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02540 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02550 IF X9<1 THEN 2560
    if(X9_int<1)goto Lbl_02560;

  Lbl_02560:
    // 02560 PRINT "STOCK","PRICE/SHARE","HOLDINGS", "VALUE", "NET PRICE CHANGE"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"STOCK");strcat(buf,"PRICE/SHARE");strcat(buf,"HOLDINGS");strcat(buf,"VALUE");strcat(buf,"NET PRICE CHANGE");strcat(buf,"\n");fputs(buf,fh); };
    // 02570 PRINT "IBM", S(1), P(1), S(1)*P(1), C(1)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"IBM"); b2c_INT(buf,S_int_arr[1]); b2c_INT(buf,P_int_arr[1]); b2c_INT(buf,S_int_arr[1]*P_int_arr[1]); b2c_INT(buf,C_int_arr[1]);strcat(buf,"\n");fputs(buf,fh); };
    // 02580 PRINT "RCA", S(2), P(2), S(2)*P(2), C(2)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"RCA"); b2c_INT(buf,S_int_arr[2]); b2c_INT(buf,P_int_arr[2]); b2c_INT(buf,S_int_arr[2]*P_int_arr[2]); b2c_INT(buf,C_int_arr[2]);strcat(buf,"\n");fputs(buf,fh); };
    // 02590 PRINT "LBJ", S(3), P(3), S(3)*P(3), C(3)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"LBJ"); b2c_INT(buf,S_int_arr[3]); b2c_INT(buf,P_int_arr[3]); b2c_INT(buf,S_int_arr[3]*P_int_arr[3]); b2c_INT(buf,C_int_arr[3]);strcat(buf,"\n");fputs(buf,fh); };
    // 02600 PRINT "ABC", S(4), P(4), S(4)*P(4), C(4)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"ABC"); b2c_INT(buf,S_int_arr[4]); b2c_INT(buf,P_int_arr[4]); b2c_INT(buf,S_int_arr[4]*P_int_arr[4]); b2c_INT(buf,C_int_arr[4]);strcat(buf,"\n");fputs(buf,fh); };
    // 02610 PRINT "CBS", S(5), P(5), S(5)*P(5), C(5)
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"CBS"); b2c_INT(buf,S_int_arr[5]); b2c_INT(buf,P_int_arr[5]); b2c_INT(buf,S_int_arr[5]*P_int_arr[5]); b2c_INT(buf,C_int_arr[5]);strcat(buf,"\n");fputs(buf,fh); };
    // 02620 LET X9=1
    X9_int = 1;
    // 02630 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02640 PRINT 
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"\n");fputs(buf,fh); };
    // 02650 GOTO 1760 
    goto Lbl_01760;

  Lbl_02660:
    // 02660 PRINT "HOPE YOU HAD FUN!!"
    { FILE*fh=stdout;char buf[256]; memset(buf,0,256);strcat(buf,"HOPE YOU HAD FUN!!");strcat(buf,"\n");fputs(buf,fh); };
    // 02670 END
   return(0);
};

//---------------------------------------------------------------------------
// End of $RCSfile$ 
//---------------------------------------------------------------------------

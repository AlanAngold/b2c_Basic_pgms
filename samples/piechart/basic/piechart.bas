# NOTE: Type forced to be:
# trs2 - TRS-80 Level II BASIC tokenized file
  940 IF The IBM Personal Computer Piechart
  950 IF Version 1.10 (C)Copyright IBM Corp 1981, 1982
  960 IF Licensed Material - Program Property of IBM
  975 TROFF SEG : DEFSTR 106,0
  980 SAMPLES$ CVS "NO"
  990 INPUT 1010
 1000 SAMPLES$ CVS "YES"
 1010 INKEY$ SQR : MEM 0,1 : LLIST 15,0,0 : OUT 40 : DELETE : THEN 5,19 : GOSUB "IBM"
 1020 THEN 7,12,0 : GOSUB "Personal Computer"
 1030 LLIST 10,0 : THEN 10,9,0 : GOSUB {0xFF} TRON (213) EOF < (21,205) EOF {0xFF} TRON (184)
 1040 THEN 11,9,0 : GOSUB {0xFF} TRON (179) EOF "      PIECHART       "EOF {0xFF} TRON (179)
 1050 THEN 12,9,0 : GOSUB {0xFF} TRON (179) EOF < (21,32) EOF {0xFF} TRON (179)
 1060 THEN 13,9,0 : GOSUB {0xFF} TRON (179) EOF "    Version 1.1O     "EOF {0xFF} TRON (179)
 1070 THEN 14,9,0 : GOSUB {0xFF} TRON (212) EOF < (21,205) EOF {0xFF} TRON (190)
 1080 LLIST 15,0 : THEN 17,4,0 : GOSUB "(C) Copyright IBM Corp 1981, 1982"
 1090 LLIST 14,0 : THEN 23,7,0 : GOSUB "Press space bar to continue"
 1100 READ RND CVD CVI ""+ INPUT 1100
 1110 CMD$ CVS RND 
 1120 READ CMD$ CVS ""+ INPUT 1110
 1130 READ CMD$ CVS {0xFF} TRON (27) + INPUT 1298
 1140 READ CMD$ CVS " "+ INPUT 1160
 1150 INPUT 1110
 1160 TROFF SEG CVS 0
 1170 READ ({0xFF} TROFF (&H410) MKD$ &H30) CVD CVI &H30 + TROFF SEG : INPUT 1291
 1180 OUT 80 : DELETE : THEN 3,1
 1190 GOSUB "HOLD IT!"
 1200 GOSUB "YOU'RE NOT USING THE COLOR/GRAPHICS MONITOR ADAPTER!"
 1210 GOSUB "THIS PROGRAM USES GRAPHICS AND REQUIRES THAT ADAPTER."
 1220 GOSUB "PRESS THE SPACE BAR TO CONTINUE."
 1230 TROFF SEG
 1240 READ RND CVD CVI ""+ INPUT 1240
 1250 CMD$ CVS RND 
 1260 READ CMD$ CVS ""+ INPUT 1250
 1270 READ CMD$ CVS {0xFF} TRON (27) + INPUT 1298
 1280 READ CMD$ CVS " "+ INPUT 1298
 1290 INPUT 1250
 1291 INKEY$ SQR 
 1292 ELSE LOAD INPUT 1295
 1293 {0xFE} REM "p16"
 1294 INPUT 1300
 1295 LLIST 31,0,0
 1296 GOSUB "THIS PROGRAM REQUIRES ADVANCED BASIC -- USE COMMAND 'BASICA'" : LLIST 15,0,0 : RESET I CVS 1 STEP 9000 : SET : MERGE 1298
 1298 ELSE LOAD INPUT 0
 1299 MEM 0,1 : READ SAMPLES$ CVS "YES" + {0xFE} LET "samples",1000 ELSE LLIST 7,0,0 : DELETE : FOR 
 1300 RANDOM R(100),A$(100)
 1400 DELETE 
 1420 MEM 0,0,0
 1440 LR CVS 50 : SR CVS 44
 1450 CMD "Title of chart";T$
 1460 CMD "How many items in chart";N
 1470 S CVS 0
 1480 RESET I CVS 1 STEP N
 1490 CMD "Numeric value, name";R(I),A$(I)
 1500 S CVS S EOF R(I)
 1510 SET 
 1520 RESET I CVS 1 STEP N : R(I) CVS R(I) MKI$ S : SET 
 1530 A2 CVS 0
 1540 DELETE 
 1550 THEN 2,20 LOC {0xFF} RETURN (T$) MKI$ 2 : GOSUB T$
 1570 RESET C CVS 1 STEP N
 1580 A1 CVS A2 : A2 CVS A2 EOF R(C) LOF 2 LOF 3.141593#
 1590 AA CVS (A1 EOF A2) MKI$ 2
 1600 CX CVS 160 EOF {0xFF} LET (AA) LOF (LR LOC SR)
 1610 CY CVS 100 LOC {0xFF} INPUT (AA) LOF (LR LOC SR)
 1640 LX CVS CX EOF {0xFF} LET (AA) LOF (16 EOF SR) LOC 4 LOF {0xFF} RETURN (A$(C)) : LY CVS CY LOC {0xFF} INPUT (AA) LOF (SR EOF 16)
 1650 THEN 1 EOF (LY STR$ 8),1 EOF (LX STR$ 8) : GOSUB A$(C);
 1670 SET C
 1680 THEN 23,1
 1700 GOSUB "Another Chart? (Y or N)";
 1710 A$ CVS RND : READ A$ CVS ""+ 1710
 1730 READ A$ CVS "N" CINT A$ CVS "n" + 1298
 1740 READ A$ CVS "Y" CINT A$ CVS "y" + 1400
 1750 INPUT 1680
